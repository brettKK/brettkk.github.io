<!DOCTYPE html>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css">
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<html lang="zh-cn">
  <head>
    <title>å‰ç«¯æ¡†æ¶-react | brettkk</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="react ğŸ”—react æ˜¯ä¸€ä¸ª js çš„åº“ï¼Œ ç®€åŒ– html å’Œ js æ“ä½œ dom çš„å¼€å‘è¿‡ç¨‹ã€‚ æ ¸å¿ƒ">
<meta name="generator" content="Hugo 0.103.1" />


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link href="https://cdn.bootcss.com/highlight.js/9.15.10/styles/zenburn.min.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<link rel="stylesheet" href="http://brettkk.github.io/css/syntax.css" />


<link rel="stylesheet" href="/css/style.css">



<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />




  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>




  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">â†</span>Home</a>
	
	<a href="/posts">Archive</a>
	<a href="/tags">Tags</a>
	<a href="/about">About</a>

	

	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">å‰ç«¯æ¡†æ¶-react</h1>

    <div class="tip">
        <time datetime="2025-03-05 11:33:56 &#43;0800 CST">Mar 5, 2025</time>
        <span class="split">
          Â·
        </span>
        <span>
          9220 words
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          19 minute read
        </span>
    </div>

    
    
        
  
    <aside class="toc">
      <details>
          <summary>Table of Contents
          </summary>
          <div>
              <nav id="TableOfContents">
  <ul>
    <li><a href="#react">react</a></li>
    <li><a href="#react-developer-tools">React Developer Tools</a></li>
    <li><a href="#æ ¸å¿ƒæ¦‚å¿µ">æ ¸å¿ƒæ¦‚å¿µ</a>
      <ul>
        <li><a href="#react-hooks">react hooks</a></li>
        <li><a href="#hooks-çš„å®ç°åŸç†">hooks çš„å®ç°åŸç†</a></li>
        <li><a href="#state-management">state management</a></li>
        <li><a href="#effect-hooks">effect hooks</a></li>
        <li><a href="#ref-hooks">ref hooks</a></li>
        <li><a href="#performance-hooks">performance hooks</a></li>
        <li><a href="#context-hooks">context hooks</a></li>
        <li><a href="#transition-hooks">transition hooks</a></li>
        <li><a href="#random-hooks">random hooks</a></li>
        <li><a href="#react-19-hooks">react 19 hooks</a></li>
      </ul>
    </li>
    <li><a href="#å•æ­¥è°ƒè¯•-react-çš„å…¥å£">å•æ­¥è°ƒè¯• react çš„å…¥å£</a>
      <ul>
        <li><a href="#åŸç†">åŸç†</a>
          <ul>
            <li><a href="#react-compiler">react compiler</a></li>
            <li><a href="#jsx-tsx-å¦‚ä½•å˜æˆ-dom-çš„">JSXï¼Œ tsx å¦‚ä½•å˜æˆ DOM çš„ï¼Ÿ</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#react-ä¸-vue-çš„å¯¹æ¯”">react ä¸ vue çš„å¯¹æ¯”</a>
      <ul>
        <li><a href="#fiber-å¦‚ä½•å®ç°äº†å¼‚æ­¥å¯ä¸­æ–­æ›´æ–°">fiber å¦‚ä½•å®ç°äº†å¼‚æ­¥å¯ä¸­æ–­æ›´æ–°ï¼Ÿ</a></li>
        <li><a href="#ä»-vite-å¯åŠ¨åˆ°-performunitofwork-çš„è·¯å¾„">ä» Vite å¯åŠ¨åˆ° performUnitOfWork çš„è·¯å¾„</a></li>
      </ul>
    </li>
    <li><a href="#procomponents">Procomponents</a></li>
    <li><a href="#shadcn">shadcn</a>
      <ul>
        <li><a href="#å®‰è£…å’Œä½¿ç”¨">å®‰è£…å’Œä½¿ç”¨</a></li>
      </ul>
    </li>
    <li><a href="#é—®é¢˜">é—®é¢˜</a>
      <ul>
        <li><a href="#react-19-æ–°ç‰¹æ€§">react 19 æ–°ç‰¹æ€§</a></li>
        <li><a href="#reacthook-é—­åŒ…é™·é˜±">reacthook é—­åŒ…é™·é˜±</a></li>
        <li><a href="#react-ä¸­æ€ä¹ˆç»™-children-æ·»åŠ é¢å¤–çš„å±æ€§">react ä¸­æ€ä¹ˆç»™ children æ·»åŠ é¢å¤–çš„å±æ€§</a></li>
        <li><a href="#fiber-æ€ä¹ˆæ˜¯-reac-æ€§èƒ½çš„ä¸€ä¸ªé£è·ƒ-fiber-æ¶æ„çš„å·¥ä½œåŸç†-fiber-å¦‚ä½•å®ç°æ›´æ–°è¿‡ç¨‹å¯æ§">Fiber æ€ä¹ˆæ˜¯ reac æ€§èƒ½çš„ä¸€ä¸ªé£è·ƒï¼Œ fiber æ¶æ„çš„å·¥ä½œåŸç†ï¼Œ fiber å¦‚ä½•å®ç°æ›´æ–°è¿‡ç¨‹å¯æ§</a></li>
        <li><a href="#react-çš„-fiber-å¦‚ä½•å®ç°æ—¶é—´åˆ‡ç‰‡çš„">react çš„ fiber å¦‚ä½•å®ç°æ—¶é—´åˆ‡ç‰‡çš„ï¼Ÿ</a></li>
        <li><a href="#react-çš„-reconciler-ä¸ºä»€ä¹ˆé‡‡ç”¨-fiber-æ¶æ„">react çš„ reconciler ä¸ºä»€ä¹ˆé‡‡ç”¨ fiber æ¶æ„ï¼Ÿ</a></li>
        <li><a href="#react-æ˜¯å¦æ”¯æŒç»™æ ‡ç­¾è®¾ç½®è‡ªå®šä¹‰çš„å±æ€§æ¯”å¦‚ç»™-video-æ ‡ç­¾è®¾ç½®-webkit-playsinline">react æ˜¯å¦æ”¯æŒç»™æ ‡ç­¾è®¾ç½®è‡ªå®šä¹‰çš„å±æ€§ï¼Œæ¯”å¦‚ç»™ video æ ‡ç­¾è®¾ç½® webkit-playsinline?</a></li>
        <li><a href="#react-render-é˜¶æ®µçš„æ‰§è¡Œè¿‡ç¨‹">react render é˜¶æ®µçš„æ‰§è¡Œè¿‡ç¨‹</a></li>
        <li><a href="#react-commit-é˜¶æ®µçš„æ‰§è¡Œè¿‡ç¨‹">react commit é˜¶æ®µçš„æ‰§è¡Œè¿‡ç¨‹</a></li>
        <li><a href="#react-ä¸­çš„è·¯ç”±æ‡’åŠ è½½æ˜¯ä»€ä¹ˆåŸç†">react ä¸­çš„è·¯ç”±æ‡’åŠ è½½æ˜¯ä»€ä¹ˆï¼ŸåŸç†ï¼Ÿ</a></li>
        <li><a href="#react-ä¸­ä¸ºä»€ä¸ç›´æ¥ä½¿ç”¨-requestidlecallback">react ä¸­ä¸ºä»€ä¸ç›´æ¥ä½¿ç”¨ requestIdleCallbackï¼Ÿ</a></li>
        <li><a href="#react-ç»„ä»¶ä¹‹é—´æ€ä¹ˆé€šè®¯">react ç»„ä»¶ä¹‹é—´æ€ä¹ˆé€šè®¯ï¼Ÿ</a>
          <ul>
            <li><a href="#çˆ¶å­ç»„ä»¶é€šè®¯">çˆ¶å­ç»„ä»¶é€šè®¯</a></li>
          </ul>
        </li>
        <li><a href="#react-å’Œ-vue-åœ¨æŠ€æœ¯å±‚é¢ä¸Šæœ‰å“ªäº›åŒºåˆ«">react å’Œ vue åœ¨æŠ€æœ¯å±‚é¢ä¸Šæœ‰å“ªäº›åŒºåˆ«ï¼Ÿ</a></li>
        <li><a href="#å­ç»„ä»¶æ˜¯ä¸€ä¸ª-protal-å‘ç”Ÿç‚¹å‡»äº‹ä»¶èƒ½å†’æ³¡åˆ°çˆ¶ç»„ä»¶é‡Œå—">å­ç»„ä»¶æ˜¯ä¸€ä¸ª protalï¼Œ å‘ç”Ÿç‚¹å‡»äº‹ä»¶èƒ½å†’æ³¡åˆ°çˆ¶ç»„ä»¶é‡Œå—ï¼Ÿ</a></li>
        <li><a href="#usestate-æ˜¯å¦‚ä½•å®ç°çš„">useState æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</a></li>
        <li><a href="#react-ä¸­-diff-ç®—æ³•">react ä¸­ diff ç®—æ³•</a></li>
        <li><a href="#å¦‚ä½•è®©-useeffect-æ”¯æŒ-asyncawait">å¦‚ä½•è®© useEffect æ”¯æŒ asyncï¼Œawaitï¼Ÿ</a></li>
        <li><a href="#react-ä¸­æ‡’åŠ è½½çš„å®ç°åŸç†æ˜¯">react ä¸­æ‡’åŠ è½½çš„å®ç°åŸç†æ˜¯ï¼Ÿ</a></li>
        <li><a href="#react-ä¸­æ€ä¹ˆå®ç°çŠ¶æ€è‡ªåŠ¨ä¿å­˜-keepalive">react ä¸­æ€ä¹ˆå®ç°çŠ¶æ€è‡ªåŠ¨ä¿å­˜ keepaliveï¼Ÿ</a></li>
        <li><a href="#react-æœ‰å“ªäº›æ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•">react æœ‰å“ªäº›æ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•ï¼Ÿ</a>
          <ul>
            <li><a href="#å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“">å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“</a></li>
            <li><a href="#ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“">ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“</a></li>
            <li><a href="#äº‹ä»¶ä¸å‰¯ä½œç”¨ä¼˜åŒ–">äº‹ä»¶ä¸å‰¯ä½œç”¨ä¼˜åŒ–</a></li>
            <li><a href="#èµ„æºåŠ è½½ä¼˜åŒ–">èµ„æºåŠ è½½ä¼˜åŒ–</a></li>
          </ul>
        </li>
        <li><a href="#react-ä¸­-virtual-dom-ä¸€å®šæé«˜æ€§èƒ½å—">react ä¸­ Virtual DOM ä¸€å®šæé«˜æ€§èƒ½å—ï¼Ÿ</a></li>
        <li><a href="#react-çš„äº‹ä»¶ä»£ç†æœºåˆ¶">react çš„äº‹ä»¶ä»£ç†æœºåˆ¶ï¼Ÿ</a></li>
        <li><a href="#reack-hooks-å½“ä¸­çš„-useeffect-æ˜¯å¦‚ä½•åŒºåˆ†å£°æ˜å‘¨æœŸé’©å­çš„">reack hooks å½“ä¸­çš„ useEffect æ˜¯å¦‚ä½•åŒºåˆ†å£°æ˜å‘¨æœŸé’©å­çš„</a></li>
        <li><a href="#react-ä¸­æ€ä¹ˆå®ç°ç»„ä»¶é—´çš„è¿‡æ¸¡åŠ¨ç”»">react ä¸­æ€ä¹ˆå®ç°ç»„ä»¶é—´çš„è¿‡æ¸¡åŠ¨ç”»ï¼Ÿ</a></li>
        <li><a href="#react-æœåŠ¡ç«¯æ¸²æŸ“æ€ä¹ˆåš">react æœåŠ¡ç«¯æ¸²æŸ“æ€ä¹ˆåš</a></li>
        <li><a href="#ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨-usememousecallback">ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ useMemoï¼Œusecallback</a></li>
        <li><a href="#react-çš„-memo-å’Œ-memoize-å‡½æ•°çš„åŒºåˆ«">react çš„ memo å’Œ memoize å‡½æ•°çš„åŒºåˆ«</a></li>
        <li><a href="#useref-ref-forwardsref-çš„åŒºåˆ«">useRefï¼Œ refï¼Œ forwardsRef çš„åŒºåˆ«ï¼Ÿ</a></li>
        <li><a href="#å¯¹-immutable-çš„ç†è§£å¦‚ä½•åº”ç”¨åˆ°é¡¹ç›®ä¸Š">å¯¹ immutable çš„ç†è§£ï¼Œå¦‚ä½•åº”ç”¨åˆ°é¡¹ç›®ä¸Š</a></li>
        <li><a href="#å®ç°-usetimeout-çš„-hook">å®ç° useTimeout çš„ hook</a></li>
        <li><a href="#æ€ä¹ˆè·å–å‡½æ•°ç»„ä»¶çš„å®ä¾‹">æ€ä¹ˆè·å–å‡½æ•°ç»„ä»¶çš„å®ä¾‹ï¼Ÿ</a></li>
        <li><a href="#react-é¡¹ç›®å¦‚ä½•æ•è·é”™è¯¯">react é¡¹ç›®å¦‚ä½•æ•è·é”™è¯¯ï¼Ÿ</a></li>
        <li><a href="#å—ä¿æŠ¤çš„è·¯ç”±-protected-route">å—ä¿æŠ¤çš„è·¯ç”± protected route</a></li>
        <li><a href="#react-ä¸­å¼•å…¥-css-çš„æ–¹å¼æœ‰å‡ ç§">react ä¸­å¼•å…¥ css çš„æ–¹å¼æœ‰å‡ ç§ï¼Ÿ</a></li>
        <li><a href="#å•åº”ç”¨å¦‚ä½•æé«˜åŠ è½½é€Ÿåº¦">å•åº”ç”¨å¦‚ä½•æé«˜åŠ è½½é€Ÿåº¦ï¼Ÿ</a>
          <ul>
            <li><a href="#èµ„æºä½“ç§¯ä¼˜åŒ–">èµ„æºä½“ç§¯ä¼˜åŒ–ã€‚</a></li>
            <li><a href="#é¦–å±æ¸²æŸ“ä¼˜åŒ–">é¦–å±æ¸²æŸ“ä¼˜åŒ–</a></li>
            <li><a href="#è¿è¡Œæ—¶ä¼˜åŒ–">è¿è¡Œæ—¶ä¼˜åŒ–</a></li>
          </ul>
        </li>
        <li><a href="#èƒ½å¦ç›´æ¥å°†-props-çš„å€¼å¤åˆ¶ç»™-state">èƒ½å¦ç›´æ¥å°† props çš„å€¼å¤åˆ¶ç»™ stateï¼Ÿ</a></li>
        <li><a href="#react-router-ä¸­çš„-link-å’Œ-a-æ ‡ç­¾çš„åŒºåˆ«">react-router ä¸­çš„ link å’Œ a æ ‡ç­¾çš„åŒºåˆ«ï¼Ÿ</a></li>
        <li><a href="#react-çš„-jsx-è½¬æ¢çœŸå®-dom-çš„è¿‡ç¨‹">react çš„ JSx è½¬æ¢çœŸå® DOM çš„è¿‡ç¨‹</a></li>
        <li><a href="#react-çš„äº‹ä»¶ä»£ç†æœºåˆ¶å’ŒåŸç”Ÿäº‹ä»¶ç»‘å®šçš„åŒºåˆ«">react çš„äº‹ä»¶ä»£ç†æœºåˆ¶å’ŒåŸç”Ÿäº‹ä»¶ç»‘å®šçš„åŒºåˆ«ï¼Ÿ</a></li>
        <li><a href="#react-ä¸­-element-componentnode-instance">react ä¸­ Elementï¼Œ componentï¼ŒNode, Instance</a></li>
      </ul>
    </li>
    <li><a href="#å…¨å±€çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ">å…¨å±€çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ</a>
      <ul>
        <li><a href="#çŠ¶æ€æå‡">çŠ¶æ€æå‡</a></li>
        <li><a href="#è™šæ‹Ÿåˆ—è¡¨çš„å®ç°">è™šæ‹Ÿåˆ—è¡¨çš„å®ç°</a></li>
        <li><a href="#ä»£ç åˆ†å‰²åœ¨-react-ä¸­çš„å®ç°æ–¹å¼">ä»£ç åˆ†å‰²åœ¨ react ä¸­çš„å®ç°æ–¹å¼</a></li>
      </ul>
    </li>
    <li><a href="#é¢˜ç›®">é¢˜ç›®</a>
      <ul>
        <li><a href="#react-çš„åˆæˆäº‹ä»¶">react çš„åˆæˆäº‹ä»¶</a></li>
      </ul>
    </li>
    <li><a href="#react-æºç ">react æºç </a>
      <ul>
        <li><a href="#æºç åŒ…">æºç åŒ…</a></li>
        <li><a href="#jsx-çš„ç¼–è¯‘">jsx çš„ç¼–è¯‘</a></li>
        <li><a href="#ä¸²æµç¨‹">ä¸²æµç¨‹</a></li>
        <li><a href="#å®ç°ç®€å•ç‰ˆçš„-reactfiber">å®ç°ç®€å•ç‰ˆçš„ reactfiber</a></li>
      </ul>
    </li>
    <li><a href="#ä»é¡¹ç›®å¯åŠ¨è¿‡ç¨‹åˆ°çŠ¶æ€æ›´æ–°è¿‡ç¨‹usestate">ä»é¡¹ç›®å¯åŠ¨è¿‡ç¨‹åˆ°çŠ¶æ€æ›´æ–°è¿‡ç¨‹ï¼ˆuseStateï¼‰</a>
      <ul>
        <li><a href="#ä»é›¶å¼€å§‹çš„-react-é¡¹ç›®-demo">ä»é›¶å¼€å§‹çš„ React é¡¹ç›® Demo</a></li>
        <li><a href="#react-é¡¹ç›®å¯åŠ¨è¿‡ç¨‹ä»åŠ è½½--fiber-æ„å»º--é¦–æ¬¡æ¸²æŸ“">React é¡¹ç›®å¯åŠ¨è¿‡ç¨‹ï¼ˆä»åŠ è½½ â†’ Fiber æ„å»º â†’ é¦–æ¬¡æ¸²æŸ“ï¼‰</a>
          <ul>
            <li><a href="#commit-é˜¶æ®µä¸å¯ä¸­æ–­ä¹Ÿæ˜¯å”¯ä¸€æ“ä½œ-dom-çš„åœ°æ–¹">commit é˜¶æ®µï¼ˆä¸å¯ä¸­æ–­ï¼Œä¹Ÿæ˜¯å”¯ä¸€æ“ä½œ DOM çš„åœ°æ–¹ï¼‰</a></li>
          </ul>
        </li>
        <li><a href="#react-çŠ¶æ€æ›´æ–°è¿‡ç¨‹usestateåŸç†">React çŠ¶æ€æ›´æ–°è¿‡ç¨‹ï¼ˆuseStateï¼‰åŸç†</a>
          <ul>
            <li><a href="#æ›´æ–°é˜¶æ®µä¸é¦–æ¬¡æ¸²æŸ“çš„åŒºåˆ«">æ›´æ–°é˜¶æ®µä¸é¦–æ¬¡æ¸²æŸ“çš„åŒºåˆ«</a></li>
            <li><a href="#å®Œæ•´æ€»ç»“æµç¨‹">å®Œæ•´æ€»ç»“æµç¨‹</a></li>
          </ul>
        </li>
        <li><a href="#å‚è€ƒ">å‚è€ƒ</a></li>
      </ul>
    </li>
  </ul>
</nav>
          </div>
      </details>
    </aside>
  


    


    <div class="content">
      <h1 id="react">react <a href="#react" class="anchor">ğŸ”—</a></h1><p>react æ˜¯ä¸€ä¸ª js çš„åº“ï¼Œ ç®€åŒ– html å’Œ js æ“ä½œ dom çš„å¼€å‘è¿‡ç¨‹ã€‚ æ ¸å¿ƒæ˜¯ç®¡ç†ç»„ä»¶ <code>make components</code>ï¼Œç®¡ç†çŠ¶æ€ <code>manage state</code>ã€‚ <br>
react ä¸­å¼•å…¥<code>Flow</code> æ˜¯ä¸€ä¸ªé™æ€ç±»å‹æ£€æŸ¥å™¨ï¼Œç”¨äºåœ¨ JavaScript ä¸­å¼•å…¥é™æ€ç±»å‹ã€‚<code>https://github.com/facebook/react</code></p>
<ul>
<li>react æ ¸å¿ƒæ¦‚å¿µå¿«é€Ÿå…¥é—¨
<ul>
<li>JQuery æ˜¯å‘½ä»¤å¼åº“ï¼ˆéœ€è¦æŒ‡æ˜æ¯ä¸€æ­¥çš„å‘½ä»¤ï¼‰ï¼Œ React æ˜¯å£°æ˜å¼åº“ã€‚</li>
<li>UI = f(data), data = props + state.</li>
</ul>
</li>
<li>Fiber ç»“æ„
<ul>
<li>å®ç°å¼‚æ­¥å¯ä¸­æ–­çš„æ‰¾å‡ºå˜åŒ–çš„ç»„ä»¶ã€‚</li>
</ul>
</li>
<li>VirtualDOM
<ul>
<li>ä¼˜åŠ¿ï¼š ä¸ç”¨å…·ä½“è€ƒè™‘ DOM æ“ä½œï¼Œå¯ä»¥ç”¨ç”³æ˜å¼çš„æ–¹å¼å†™ä»£ç ï¼›å‡å°‘é¡µé¢æ¸²æŸ“æ¬¡æ•°ï¼›æ›´å¥½çš„è·¨å¹³å°èƒ½åŠ›ã€‚</li>
</ul>
</li>
<li>Diff ç®—æ³•</li>
<li>Hooks
<ul>
<li>useState è®©å‡½æ•°ç»„ä»¶å…·æœ‰ç»´æŒçŠ¶æ€çš„èƒ½åŠ›ã€‚</li>
</ul>
</li>
</ul>
<p>å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œéƒ½æ˜¯åœ¨å†™ç»„ä»¶ã€‚æ‰€ä»¥å¦‚ä½•æå–å…¬å…±ç»„ä»¶å°±å¾ˆé‡è¦ï¼Œå› ä¸ºå¯ä»¥æœç”¨ç»„ä»¶ï¼Œå°‘å†™å¾ˆå¤šä»£ç ã€‚</p>
<ul>
<li>è¯†åˆ«é‡å¤çš„ UI éƒ¨åˆ†</li>
<li>å®šä¹‰ props æ¥å£ï¼Œæ˜ç¡®ç»„ä»¶æ¥æ”¶çš„å‚æ•°ï¼Œç±»å‹çš„çº¦æŸ</li>
<li>å®ç°ç»„ä»¶ï¼Œ å°† UI+é€»è¾‘å°è£…åˆ°ç»„ä»¶å†…éƒ¨ï¼Œé€šè¿‡ props æš´éœ²å‚æ•°</li>
<li>å¯¼å‡ºå’Œä½¿ç”¨å…¬å…±ç»„ä»¶</li>
</ul>
<h1 id="react-developer-tools">React Developer Tools <a href="#react-developer-tools" class="anchor">ğŸ”—</a></h1><p>Browser extension ,
<a href="https://react.dev/learn/react-developer-tools" target="_blank" rel="noopener">react dev tools</a></p>
<h1 id="æ ¸å¿ƒæ¦‚å¿µ">æ ¸å¿ƒæ¦‚å¿µ <a href="#%e6%a0%b8%e5%bf%83%e6%a6%82%e5%bf%b5" class="anchor">ğŸ”—</a></h1><p><code>component ç»„ä»¶</code>æ˜¯ js å®šä¹‰çš„é¦–å­—æ¯å¤§å†™çš„å‡½æ•°ï¼Œå‡½æ•°è¿”å›ä¸€ç»„ hmtl æ ‡ç­¾ï¼ˆJSXï¼‰ã€‚<br></p>
<p><code>JSX</code> æ˜¯ js+htmlï¼Œå±æ€§åç§°ä¸º<code>camelCase</code>, ä¸æ˜¯<code>HTML attributes</code>ï¼Œ ä¸€ç§æ›´è‡ªç„¶çš„æ–¹å¼åˆ›å»º react elementã€‚ <br>
<code>jsx</code> ä¼š <code>babel</code> è¢«ç¿»è¯‘ä¸º<code>React.createElement</code>å‡½æ•°ï¼Œè¿”å› js å¯¹è±¡ï¼ˆ VDOMï¼‰ã€‚<br>
<code>babel</code>å¯ä»¥å°† JSX è½¬è¯‘ä¸ºç­‰ä»·çš„ js ä»£ç ã€‚<br></p>
<p>html ä¸º<code>&lt;button class=&quot;btn&quot;&gt;</code> , jsx ä¸º<code>&lt;button className=&quot;btn&quot;&gt;</code></p>
<hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;Greeting text={&#39;yo&#39;} /&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Greeting</span>(<span style="color:#a6e22e">props</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">h1</span><span style="color:#f92672">&gt;</span>{<span style="color:#a6e22e">props</span>.<span style="color:#a6e22e">text</span>}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/h1&gt;;</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;Parent&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  &lt;Child /&gt;    // passed as &#34;children&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;/Parent&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Parent</span>(<span style="color:#a6e22e">props</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#f92672">&lt;</span><span style="color:#a6e22e">div</span><span style="color:#f92672">&gt;</span>{<span style="color:#a6e22e">props</span>.<span style="color:#a6e22e">children</span>}<span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/div&gt;;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ç»„ä»¶çš„å†…å®¹æ˜¯â€œæ’æ§½â€ã€‚ ä¾‹å¦‚ Vue.jsã€‚åœ¨ React ä¸­ï¼Œé€šå¸¸ç§°å…¶ä¸º &quot;children&quot;ã€‚éƒ½æ˜¯æŒ‡å°†æŸäº›å†…å®¹æˆ–å…ƒç´ æ’å…¥åˆ°å­ç»„ä»¶çš„æŒ‡å®šä½ç½®ã€‚</p>
<p>ç»„ä»¶çš„å±æ€§ï¼ŒçŠ¶æ€ï¼Œäº‹ä»¶ã€‚</p>
<p>ç»„ä»¶é€šè®¯:</p>
<ul>
<li>é€šè¿‡ç»„ä»¶çš„å±æ€§ propsï¼Œ å•å‘æ•°æ®æµ(pass data into another component)ã€‚
<ul>
<li>çˆ¶-&gt;å­ï¼Œpropsï¼Œ å°† jsx ä¼ ç»™å­ç»„ä»¶ï¼ˆæ’æ§½ï¼‰</li>
<li>å­-&gt;çˆ¶ï¼Œå­è°ƒçˆ¶ä¼ è¿›æ¥çš„å‡½æ•°</li>
</ul>
</li>
<li>context hook å¤šç»„ä»¶å…±äº«çŠ¶æ€</li>
</ul>
<p><code>React Hooks</code>ï¼š useState, useContext, useRef, useEffectã€‚</p>
<p>çŠ¶æ€ç®¡ç†ã€‚</p>
<p>æ¸²æŸ“æµç¨‹ã€‚</p>
<p>é¿å…é‡å¤æ¸²æŸ“ã€‚</p>
<p><code>&lt;div&gt;Hello&lt;/div&gt;</code>è¿™æ®µ jsxï¼Œè¢«<code>Babel</code>è½¬æ¢ä¸º<code>React.createElement('div', null, 'Hello')</code>å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡</p>
<p>react element çš„ type ç§ç±»ï¼š <code>REACT_ELEMENT_TYPE</code>ï¼Œ <code>REACT_PROOTAL_TYPE</code>ï¼ˆå°†èŠ‚ç‚¹æ¸²æŸ“åˆ°çˆ¶ç»„ä»¶ä¹‹å¤–çš„ dom èŠ‚ç‚¹ä¸Šï¼‰ï¼Œ
<code>REACT_FRAGMENT_TYPE</code>(æ— éœ€æ·»åŠ é¢å¤–çš„çˆ¶èŠ‚ç‚¹ï¼Œå°†å­ç»„ä»¶æ”¾ä¸€èµ·è¿”å›),
<code>REACT_STRICT_MODE_TYPE</code>,
<code>REACT_PROFILER_TYPE</code>(profiler æµ‹é‡),</p>
<p><code>REACT_CONSUMER_TYPE</code>ï¼ˆ&lt;MyContext.Consumer&gt;åˆ›å»ºçš„è™šæ‹Ÿ DOM å¯¹è±¡çš„ç±»å‹ï¼‰ï¼Œ<code>REACT_CONTEXT_TYPE</code> ï¼ˆReact.createContext(1)è¿”å›çš„å¯¹è±¡çš„ç±»å‹ï¼‰,</p>
<p><code>REACT_FORWARD_REF_TYPE</code> ï¼ˆReact.forwardRef åˆ›å»ºçš„ç»„ä»¶çš„ç±»å‹ï¼‰,</p>
<p><code>REACT_SUSPENSE_TYPE</code>ï¼ˆæš‚åœç»„ä»¶çš„æ¸²æŸ“ï¼Œ ç›´åˆ°æŸäº›æ“ä½œçš„å®Œæˆï¼Œ ä¸ React.lazy é…ç½®ä½¿ç”¨å®ç°ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½ï¼‰,
<code>REACT_LAZY_TYPE</code>ï¼ˆReact.azy()ï¼‰</p>
<p><code>REACT_MEMO_TYPE</code>ï¼ˆReact.memo()åˆ›å»ºçš„ç»„ä»¶ï¼Œè®°å¿†ç»„ä»¶æ¸²æŸ“ç»“æœæ¥é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼‰,</p>
<p><code>REACT_SUSPENSE_LIST_TYPE</code>(æ§åˆ¶å¤šä¸ª Suspense ç»„ä»¶çš„åŠ è½½é¡ºåº),</p>
<p><code>REACT_SCOPE_TYPE</code>,<code>REACT_ACTIVITY_TYPE</code>ä¸ React 18 çš„ useTransition ç­‰ç‰¹æ€§çš„å®ç°æœ‰å…³ã€‚
<code>REACT_LEGACY_HIDDEN_TYPE</code>,
<code>REACT_TRACING_MAKER_TYPE</code>,</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">$$typeof:</span> <span style="color:#960050;background-color:#1e0010">REACT_ELEMENT_TYPE,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">type:</span> <span style="color:#960050;background-color:#1e0010">&#39;div&#39;,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">props:</span> <span style="color:#960050;background-color:#1e0010">{children:</span> <span style="color:#960050;background-color:#1e0010">&#39;Hello&#39;</span>}<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">key:</span> <span style="color:#66d9ef">null</span><span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">ref:</span> <span style="color:#66d9ef">null</span><span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">...</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">}</span>
</span></span></code></pre></div><h2 id="react-hooks">react hooks <a href="#react-hooks" class="anchor">ğŸ”—</a></h2><p>hook æ˜¯ react 16.8 çš„æ–°å¢ç‰¹æ€§ã€‚</p>
<p>æ¯ä¸ªç»„ä»¶æœ‰ä¸€ä¸ª js å¯¹è±¡ï¼ˆfiber å¯¹è±¡ï¼‰é‡Œå­˜ hook çš„é“¾è¡¨ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">//react/packages/react-reconciler/src/ReactFiberHooks.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">export</span> <span style="color:#a6e22e">type</span> <span style="color:#a6e22e">Hook</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">memoizedState</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">any</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">baseState</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">any</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">baseQueue</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Update</span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">any</span>, <span style="color:#a6e22e">any</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">queue</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">any</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">next</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Hook</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h2 id="hooks-çš„å®ç°åŸç†">hooks çš„å®ç°åŸç† <a href="#hooks-%e7%9a%84%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86" class="anchor">ğŸ”—</a></h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">_state</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">myUseState</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">initialValue</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">_state</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_state</span> <span style="color:#f92672">===</span> <span style="color:#66d9ef">undefined</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">initialValue</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">_state</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">setState</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">newValue</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">_state</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newValue</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">render</span>();
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> [<span style="color:#a6e22e">_state</span>, <span style="color:#a6e22e">setState</span>];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>hooks åˆ©ç”¨ js çš„é—­åŒ…å®ç°ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">_state</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">any</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å®é™…ä¸èƒ½å®šä¹‰åœ¨å…¨å±€ï¼Œå…¶ä»–ç»„ä»¶æ€ä¹ˆåŠï¼Ÿ ç»™æ¯ä¸ªç»„ä»¶åˆ›å»ºä¸€ä¸ª_stateæ•°ç»„å’Œindexï¼Œ å¹¶æ”¾åœ¨ç»„ä»¶å¯¹åº”çš„Fiber Nodeä¸Šã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">index</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">myUseState</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">initialState</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">any</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">currentIndex</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">index</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">_state</span>[<span style="color:#a6e22e">currentIndex</span>] <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">_state</span>[<span style="color:#a6e22e">currentIndex</span>] <span style="color:#f92672">===</span> <span style="color:#66d9ef">undefined</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">initialState</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">_state</span>[<span style="color:#a6e22e">currentIndex</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">setState</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">newValue</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">any</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">_state</span>[<span style="color:#a6e22e">currentIndex</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">newValue</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">render</span>(); <span style="color:#75715e">// é‡ç½®indexä¸º0ï¼Œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  };
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">index</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> [<span style="color:#a6e22e">_state</span>[<span style="color:#a6e22e">currentIndex</span>], <span style="color:#a6e22e">setState</span>];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>ä¸ºä»€ä¹ˆ react hooks çš„ä½¿ç”¨è§„åˆ™ä¸­ä¸èƒ½å†å¾ªç¯ï¼Œæ¡ä»¶ä¸­è°ƒç”¨ hook å‡½æ•°äº†ï¼Ÿ å› ä¸º hooks å‡½æ•°çš„å­˜å‚¨æ–¹å¼æ˜¯æ•°ç»„ï¼ˆå®é™…æ˜¯é“¾è¡¨ï¼‰ï¼Œ åŠ å…¥æ§åˆ¶æµåï¼Œéœ€è¦é€šè¿‡ index è·å–å¯¹åº”çš„ stateï¼Œ setState å°±å…³ç³»å°±é”™äº†ã€‚</p>
<hr>
<p>fiber å¯¹è±¡å®ç°äº†çŠ¶æ€æ›´æ–°æœºåˆ¶ï¼Œæ”¯æŒä»»åŠ¡ä¸åŒä¼˜å…ˆçº§ï¼Œå¯ä¸­æ–­ä¸æ¢å¤ã€‚æ¯ä¸ªä»»åŠ¡æ›´æ–°å•å…ƒä¸º react element å¯¹åº”çš„ fiber èŠ‚ç‚¹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">FiberNode</span>(
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">tag</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">WorkTag</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">pendingProps</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">mixed</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">key</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">string</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">TypeOfMode</span>
</span></span><span style="display:flex;"><span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// é™æ€å±æ€§
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">tag</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">tag</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">key</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">key</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">stateNode</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>; <span style="color:#75715e">// å¯¹åº”çš„DOMèŠ‚ç‚¹ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">memoizedState</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>; <span style="color:#75715e">// å¯¹åº”çš„hooksé“¾è¡¨ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// è¿æ¥å…¶ä»–fiberèŠ‚ç‚¹å½¢æˆFiberæ ‘
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#66d9ef">return</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>; <span style="color:#75715e">// çˆ¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">child</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>; <span style="color:#75715e">// å­
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">sibling</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>; <span style="color:#75715e">// å…„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">index</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">ref</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// åŠ¨æ€å±æ€§
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">pendingProps</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pendingProps</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">memoizedProps</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">updateQueue</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">memoizedState</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">dependencies</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// ä¿å­˜æ›´æ–°æ—¶é€ æˆçš„DOMæ“ä½œ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">effectTag</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">NoEffect</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">nextEffect</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">firstEffect</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">lastEffect</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// æ›´æ–°æ—¶å¯¹åº”çš„fiberï¼Œ åŒç¼“å­˜ã€‚ æ›´æ–°æ—¶æŒ‡å‘workInProgress Fiber èŠ‚ç‚¹ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">alternate</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="state-management">state management <a href="#state-management" class="anchor">ğŸ”—</a></h2><p>useStateï¼ˆå¸¸ç”¨ï¼‰, useReducer, useSyncExternalStore</p>
<p>useState å¦‚ä½•æ›´æ–°çŠ¶æ€ï¼Ÿ
ä¸ºä»€ä¹ˆ setState æ˜¯å¼‚æ­¥çš„ï¼Ÿ æ‰¹é‡å¤„ç†ï¼Œå»¶è¿Ÿæ‰§è¡Œçš„å¼‚æ­¥æœºåˆ¶ã€‚</p>
<h2 id="effect-hooks">effect hooks <a href="#effect-hooks" class="anchor">ğŸ”—</a></h2><p>useEffectï¼ˆå¸¸ç”¨ï¼‰, useLayoutEffect, useInsertionEffectã€‚</p>
<p><code>ä¸‰ç§è°ƒç”¨æ—¶æœº</code>ï¼Œ <code>å‰¯ä½œç”¨æ¸…ç†</code>ï¼Œ <code>å¸¸è§bugï¼Œæ­»å¾ªç¯</code></p>
<p><code>useEffect</code>ä¸‰ç§è°ƒç”¨æ—¶æœºï¼Œå–å†³äºä¾èµ–æ•°ç»„çš„å†™æ³•ã€‚ <code>useEffect(fn)</code> é¦–æ¬¡å’Œæ¯æ¬¡ç»„ä»¶æ›´æ–°æ—¶è°ƒç”¨, <code>useEffect(fn, [])</code>ä»…é¦–æ¬¡æ¸²æŸ“æ—¶è°ƒç”¨, <code>useEffect(fn, [a, b])</code> é¦–æ¬¡+ä¾èµ–é¡¹å˜åŒ–æ—¶è°ƒç”¨ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-tsx" data-lang="tsx"><span style="display:flex;"><span><span style="color:#66d9ef">import</span>  <span style="color:#a6e22e">React</span>, {<span style="color:#a6e22e">useEffect</span>, <span style="color:#a6e22e">useState</span>} <span style="color:#a6e22e">rom</span> <span style="color:#e6db74">&#39;react&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> {<span style="color:#a6e22e">Link</span>} <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;react-router-dom&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Demo() {</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">count</span>, <span style="color:#a6e22e">setCount</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">useEffect</span>(()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;1&#39;</span>, <span style="color:#a6e22e">count</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> () <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;2&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">useEffect</span>(() <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;3&#39;</span>, <span style="color:#a6e22e">count</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> () <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;4&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }, []);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">useEffect</span>(() <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;5&#39;</span>, <span style="color:#a6e22e">count</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> () <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;6&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }, [<span style="color:#a6e22e">count</span>]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">p</span>&gt;<span style="color:#a6e22e">count</span> <span style="color:#66d9ef">is</span><span style="color:#f92672">:</span> {<span style="color:#a6e22e">count</span>}&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{() <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">setCount</span>(<span style="color:#a6e22e">count</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)}&gt;<span style="color:#a6e22e">add</span>&lt;/<span style="color:#f92672">button</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">Link</span> <span style="color:#a6e22e">to</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/management&#34;</span>&gt;<span style="color:#a6e22e">About</span>&lt;/<span style="color:#f92672">Link</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">Demo</span>;
</span></span></code></pre></div><p>åˆå§‹åŒ–æ—¶æ‰§è¡Œæ‰€æœ‰ useEffect çš„ä¸»ä½“å‡½æ•°ã€‚
çŠ¶æ€æ›´æ–°æ—¶ï¼š å…ˆæ‰§è¡Œä¾èµ–å˜åŒ–çš„ useEffect çš„æ¸…ç†å‡½æ•°ï¼Œ å†æ‰§è¡Œä¸»ä½“å‡½æ•°ã€‚
ç»„ä»¶å¸è½½æ—¶ï¼š æ‰§è¡Œæ¸…ç†å‡½æ•°ã€‚</p>
<p>åˆå§‹åŒ–æ¸²æŸ“ï¼ˆç»„ä»¶æŒ‚è½½ï¼‰ 10 30 50
ç‚¹å‡» add æŒ‰é’® 2 6 11 51
ç‚¹å‡»è·³è½¬æŒ‰é’® 2 4 6</p>
<h2 id="ref-hooks">ref hooks <a href="#ref-hooks" class="anchor">ğŸ”—</a></h2><p>useRef, useImperativeHandle</p>
<h2 id="performance-hooks">performance hooks <a href="#performance-hooks" class="anchor">ğŸ”—</a></h2><p>unnecessary in react 19 .
useMemo, useCallback</p>
<h2 id="context-hooks">context hooks <a href="#context-hooks" class="anchor">ğŸ”—</a></h2><p>props åœ¨ä½¿ç”¨æ—¶çˆ·ä¼ çˆ¶ï¼Œçˆ¶ä¼ å­æ—¶ï¼Œæ¯ä¸€å±‚éƒ½è¦å†™ props ä¸­è½¬ä¸€ä¸‹ã€‚<br>
useContext åˆ™ä¸ç”¨å±‚å±‚ä¼ é€’ï¼Œå¯ä»¥è®©ä»»æ„æ·±åº¦çš„å­ç»„ä»¶ç›´æ¥è·å–æ•°æ®ã€‚</p>
<h2 id="transition-hooks">transition hooks <a href="#transition-hooks" class="anchor">ğŸ”—</a></h2><p>useTransition, useDeferredValue</p>
<h2 id="random-hooks">random hooks <a href="#random-hooks" class="anchor">ğŸ”—</a></h2><p>useDebugValue, useId</p>
<h2 id="react-19-hooks">react 19 hooks <a href="#react-19-hooks" class="anchor">ğŸ”—</a></h2><p>useFormStatus, useFormState, useOptimistic, use</p>
<h1 id="å•æ­¥è°ƒè¯•-react-çš„å…¥å£">å•æ­¥è°ƒè¯• react çš„å…¥å£ <a href="#%e5%8d%95%e6%ad%a5%e8%b0%83%e8%af%95-react-%e7%9a%84%e5%85%a5%e5%8f%a3" class="anchor">ğŸ”—</a></h1><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">App</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;./App&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">createRoot</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;react-dom/client&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">container</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;root&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">root</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createRoot</span>(<span style="color:#a6e22e">container</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">root</span>.<span style="color:#a6e22e">render</span>(&lt;<span style="color:#f92672">App</span> /&gt;);
</span></span></code></pre></div><p><code>cmd+shift+d</code> æ‰“å¼€ vs code è°ƒè¯•é¢æ¿ï¼Œåˆ›å»º launch.json æ–‡ä»¶ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;0.2.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;configurations&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;chrome&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;request&#34;</span>: <span style="color:#e6db74">&#34;launch&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;é’ˆå¯¹ localhost å¯åŠ¨ Chrome&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;http://localhost:3000&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;webRoot&#34;</span>: <span style="color:#e6db74">&#34;${workspaceFolder}/src&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;sourceMaps&#34;</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;skipFiles&#34;</span>: [<span style="color:#e6db74">&#34;&lt;node_internals&gt;/**&#34;</span>]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿è¡Œå’Œè°ƒè¯•â€œé’ˆå¯¹ localhost å¯åŠ¨ Chromeâ€ï¼Œå³å¯ debug ç¨‹åºã€‚</p>
<h2 id="åŸç†">åŸç† <a href="#%e5%8e%9f%e7%90%86" class="anchor">ğŸ”—</a></h2><p>æ€§èƒ½ä¼˜åŒ–ã€‚</p>
<h3 id="react-compiler">react compiler <a href="#react-compiler" class="anchor">ğŸ”—</a></h3><p>2024 å¹´åœ¨å¼€æºå®éªŒä¸­ã€‚ å­¦ä¹ ä¸€ä¸‹ compiler çš„è®¾è®¡ä¸å®ç°ã€‚</p>
<h3 id="jsx-tsx-å¦‚ä½•å˜æˆ-dom-çš„">JSXï¼Œ tsx å¦‚ä½•å˜æˆ DOM çš„ï¼Ÿ <a href="#jsx-tsx-%e5%a6%82%e4%bd%95%e5%8f%98%e6%88%90-dom-%e7%9a%84" class="anchor">ğŸ”—</a></h3><p>TSX
â†“ ç¼–è¯‘ï¼ˆTS â†’ JSX â†’ JSï¼‰
React.createElement()
â†“
Virtual DOMï¼ˆçº¯ JS å¯¹è±¡ï¼‰
â†“
æ„å»º Fiber Treeï¼ˆRender Phaseï¼‰
â†“
æ‰¾å‡ºå·®å¼‚ã€æ ‡è®°å˜åŒ–ï¼ˆeffect listï¼‰
â†“
æäº¤åˆ°çœŸå® DOMï¼ˆCommit Phaseï¼‰
â†“
é¡µé¢å±•ç¤º</p>
<h1 id="react-ä¸-vue-çš„å¯¹æ¯”">react ä¸ vue çš„å¯¹æ¯” <a href="#react-%e4%b8%8e-vue-%e7%9a%84%e5%af%b9%e6%af%94" class="anchor">ğŸ”—</a></h1><p>vue ä¸­çš„ v-model åŒå‘ç»‘å®šå¾ˆå¥½ç”¨ï¼Œreact éœ€è¦ value + onChange å»ç¼–å†™ã€‚</p>
<p>props éƒ¨åˆ† react æ›´åŠ ç›´è§‚ï¼Œå°±æ˜¯ function çš„å‚æ•°è€Œå·²ã€‚vue éœ€è¦é¢å¤–å®šä¹‰ã€‚</p>
<p>å­ç»„ä»¶ä¸çˆ¶ç»„ä»¶äº’ç›¸ä¼ æ•°æ®ã€‚ props å‘ä¸‹ä¼ ï¼Œäº‹ä»¶å‘ä¸Šä¼ ã€‚</p>
<h2 id="fiber-å¦‚ä½•å®ç°äº†å¼‚æ­¥å¯ä¸­æ–­æ›´æ–°">fiber å¦‚ä½•å®ç°äº†å¼‚æ­¥å¯ä¸­æ–­æ›´æ–°ï¼Ÿ <a href="#fiber-%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e4%ba%86%e5%bc%82%e6%ad%a5%e5%8f%af%e4%b8%ad%e6%96%ad%e6%9b%b4%e6%96%b0" class="anchor">ğŸ”—</a></h2><ul>
<li>å¯ä¸­æ–­å¯æ¢å¤
<ul>
<li>æ‹†åˆ†æ›´æ–°ä»»åŠ¡ä¸ºã€Œå•ä½å·¥ä½œå•å…ƒã€ï¼ˆunit of workï¼‰</li>
</ul>
</li>
<li>æœ‰ä¼˜å…ˆçº§ï¼ˆå…ˆæ¸²æŸ“é‡è¦çš„ä»»åŠ¡ï¼‰</li>
<li>å¹¶å‘è°ƒåº¦ï¼ˆè®©å¤šä¸ªä»»åŠ¡æ’é˜Ÿæ‰§è¡Œï¼‰</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> (<span style="color:#a6e22e">nextUnitOfWork</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">shouldYield</span>() <span style="color:#f92672">===</span> <span style="color:#66d9ef">false</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// shouldYield()ï¼šæ˜¯å¦è®©å‡ºä¸»çº¿ç¨‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// æ‹†åˆ†æ›´æ–°ä»»åŠ¡ä¸ºã€Œå•ä½å·¥ä½œå•å…ƒã€ï¼ˆunit of workï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">nextUnitOfWork</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">performUnitOfWork</span>(<span style="color:#a6e22e">nextUnitOfWork</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å¯ä¸­æ–­ã€å¯æ¢å¤çš„æ¸²æŸ“è¿‡ç¨‹
</span></span></span></code></pre></div><h2 id="ä»-vite-å¯åŠ¨åˆ°-performunitofwork-çš„è·¯å¾„">ä» Vite å¯åŠ¨åˆ° performUnitOfWork çš„è·¯å¾„ <a href="#%e4%bb%8e-vite-%e5%90%af%e5%8a%a8%e5%88%b0-performunitofwork-%e7%9a%84%e8%b7%af%e5%be%84" class="anchor">ğŸ”—</a></h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">run</span> <span style="color:#a6e22e">dev</span> <span style="color:#960050;background-color:#1e0010">â†’</span> <span style="color:#a6e22e">Vite</span> <span style="color:#a6e22e">å¯åŠ¨</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â†“</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">main</span>.<span style="color:#a6e22e">jsx</span> <span style="color:#a6e22e">ä¸­æ‰§è¡Œ</span> <span style="color:#a6e22e">ReactDOM</span>.<span style="color:#a6e22e">createRoot</span>(...).<span style="color:#a6e22e">render</span>(<span style="color:#f92672">&lt;</span><span style="color:#a6e22e">App</span> <span style="color:#f92672">/&gt;</span>)
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â†“</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â†’</span> <span style="color:#a6e22e">updateContainer</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â†’</span> <span style="color:#a6e22e">scheduleUpdateOnFiber</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â†’</span> <span style="color:#a6e22e">ensureRootIsScheduled</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â†’</span> <span style="color:#a6e22e">performConcurrentWorkOnRoot</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â†’</span> <span style="color:#a6e22e">renderRootConcurrent</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â†’</span> <span style="color:#a6e22e">workLoopConcurrent</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">â†’</span> <span style="color:#a6e22e">performUnitOfWork</span>(...)
</span></span></code></pre></div><h1 id="procomponents">Procomponents <a href="#procomponents" class="anchor">ğŸ”—</a></h1><p><code>npm i @ant-design/pro-components --save</code></p>
<h1 id="shadcn">shadcn <a href="#shadcn" class="anchor">ğŸ”—</a></h1><p>shadcn/ui, åŸºäº Tailwind CSS + Radix UI çš„ React ç»„ä»¶åº“ã€‚</p>
<h2 id="å®‰è£…å’Œä½¿ç”¨">å®‰è£…å’Œä½¿ç”¨ <a href="#%e5%ae%89%e8%a3%85%e5%92%8c%e4%bd%bf%e7%94%a8" class="anchor">ğŸ”—</a></h2><p>å®‰è£… tailwind cssï¼Œ
é…ç½® Tailwind, npx tailwindcss init -p,
åœ¨ tailwind.config.js é‡Œé…ç½®,</p>
<p>å®‰è£… shadcn/ui CLI, npx shadcn-ui@latest initï¼Œ é»˜è®¤ä¼šåœ¨ components/ui/ ä¸‹ç”Ÿæˆç»„ä»¶ã€‚</p>
<p>ä¾‹å¦‚å®‰è£… button ç»„ä»¶ã€‚ npx shadcn-ui@latest add buttonï¼Œ æŠŠ Button.tsx æ”¾åˆ° components/ui/button.tsx é‡Œã€‚</p>
<h1 id="é—®é¢˜">é—®é¢˜ <a href="#%e9%97%ae%e9%a2%98" class="anchor">ğŸ”—</a></h1><h2 id="react-19-æ–°ç‰¹æ€§">react 19 æ–°ç‰¹æ€§ <a href="#react-19-%e6%96%b0%e7%89%b9%e6%80%a7" class="anchor">ğŸ”—</a></h2><p>æœåŠ¡å™¨ç»„ä»¶ã€‚å…è®¸ç»„ä»¶åœ¨ sever ç«¯æ¸²æŸ“ï¼Œä¸ç”¨å‘é€ js åˆ°å®¢æˆ·ç«¯ã€‚</p>
<p>çŠ¶æ€ç®¡ç†ã€‚ åˆå¹¶ useState æ‰¹é‡å¤„ç†ã€‚</p>
<p>react compilerï¼Œé€šè¿‡é™æ€åˆ†æä»£ç ï¼Œè‡ªåŠ¨å®ç°ç±»ä¼¼ useMemo, useCallback çš„ç¼“å­˜æ•ˆæœï¼Œå‡å°‘ä¸å¿…è¦çš„é‡æ¸²æŸ“ã€‚</p>
<h2 id="reacthook-é—­åŒ…é™·é˜±">reacthook é—­åŒ…é™·é˜± <a href="#reacthook-%e9%97%ad%e5%8c%85%e9%99%b7%e9%98%b1" class="anchor">ğŸ”—</a></h2><p>ç”±äº javascript çš„é—­åŒ…ç‰¹æ€§ï¼Œå¯¼è‡´å›è°ƒå‡½æ•°æ•è·äº†æ—§çš„çŠ¶æ€ statesï¼Œå±æ€§ propsï¼Œè€Œæ²¡æœ‰è·å–åˆ°æœ€æ–°å€¼çš„ç°è±¡ã€‚</p>
<p>è§£å†³åŠæ³•ï¼Œ æ˜ç¡®ä¾èµ–çš„æ•°æ®ï¼Œè®© useEffect, useCallback åœ¨ä¾èµ–å˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°èƒ½é‡æ–°åˆ›å»ºï¼Œæ•è·åˆ°æœ€æ–°çš„æ•°æ®ã€‚</p>
<h2 id="react-ä¸­æ€ä¹ˆç»™-children-æ·»åŠ é¢å¤–çš„å±æ€§">react ä¸­æ€ä¹ˆç»™ children æ·»åŠ é¢å¤–çš„å±æ€§ <a href="#react-%e4%b8%ad%e6%80%8e%e4%b9%88%e7%bb%99-children-%e6%b7%bb%e5%8a%a0%e9%a2%9d%e5%a4%96%e7%9a%84%e5%b1%9e%e6%80%a7" class="anchor">ğŸ”—</a></h2><p><code>React.cloneElement</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;react&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">ParentComponent</span>({<span style="color:#a6e22e">children</span>}) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">enhancedChild</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">cloneElement</span>(<span style="color:#a6e22e">children</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">newProp</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;new prop&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">onClick</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;å­å…ƒç´ è¢«ç‚¹äº†&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">className</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;enhanced-class&#39;</span>, <span style="color:#75715e">// è¦†ç›–old value
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  })<span style="color:#960050;background-color:#1e0010">ï¼›</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">div</span>&gt;{<span style="color:#a6e22e">enhancedChild</span>}&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">ChildComponent</span>({<span style="color:#a6e22e">newProp</span>, ...<span style="color:#a6e22e">props</span>}) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">div</span> {<span style="color:#a6e22e">...props</span>}&gt;{<span style="color:#a6e22e">newProp</span>}&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">ParentComponent</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">ChildComponent</span> <span style="color:#a6e22e">className</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;orignal-class&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">ParentComponent</span>&gt;
</span></span></code></pre></div><h2 id="fiber-æ€ä¹ˆæ˜¯-reac-æ€§èƒ½çš„ä¸€ä¸ªé£è·ƒ-fiber-æ¶æ„çš„å·¥ä½œåŸç†-fiber-å¦‚ä½•å®ç°æ›´æ–°è¿‡ç¨‹å¯æ§">Fiber æ€ä¹ˆæ˜¯ reac æ€§èƒ½çš„ä¸€ä¸ªé£è·ƒï¼Œ fiber æ¶æ„çš„å·¥ä½œåŸç†ï¼Œ fiber å¦‚ä½•å®ç°æ›´æ–°è¿‡ç¨‹å¯æ§ <a href="#fiber-%e6%80%8e%e4%b9%88%e6%98%af-reac-%e6%80%a7%e8%83%bd%e7%9a%84%e4%b8%80%e4%b8%aa%e9%a3%9e%e8%b7%83-fiber-%e6%9e%b6%e6%9e%84%e7%9a%84%e5%b7%a5%e4%bd%9c%e5%8e%9f%e7%90%86-fiber-%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e6%9b%b4%e6%96%b0%e8%bf%87%e7%a8%8b%e5%8f%af%e6%8e%a7" class="anchor">ğŸ”—</a></h2><h2 id="react-çš„-fiber-å¦‚ä½•å®ç°æ—¶é—´åˆ‡ç‰‡çš„">react çš„ fiber å¦‚ä½•å®ç°æ—¶é—´åˆ‡ç‰‡çš„ï¼Ÿ <a href="#react-%e7%9a%84-fiber-%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e6%97%b6%e9%97%b4%e5%88%87%e7%89%87%e7%9a%84" class="anchor">ğŸ”—</a></h2><h2 id="react-çš„-reconciler-ä¸ºä»€ä¹ˆé‡‡ç”¨-fiber-æ¶æ„">react çš„ reconciler ä¸ºä»€ä¹ˆé‡‡ç”¨ fiber æ¶æ„ï¼Ÿ <a href="#react-%e7%9a%84-reconciler-%e4%b8%ba%e4%bb%80%e4%b9%88%e9%87%87%e7%94%a8-fiber-%e6%9e%b6%e6%9e%84" class="anchor">ğŸ”—</a></h2><h2 id="react-æ˜¯å¦æ”¯æŒç»™æ ‡ç­¾è®¾ç½®è‡ªå®šä¹‰çš„å±æ€§æ¯”å¦‚ç»™-video-æ ‡ç­¾è®¾ç½®-webkit-playsinline">react æ˜¯å¦æ”¯æŒç»™æ ‡ç­¾è®¾ç½®è‡ªå®šä¹‰çš„å±æ€§ï¼Œæ¯”å¦‚ç»™ video æ ‡ç­¾è®¾ç½® webkit-playsinline? <a href="#react-%e6%98%af%e5%90%a6%e6%94%af%e6%8c%81%e7%bb%99%e6%a0%87%e7%ad%be%e8%ae%be%e7%bd%ae%e8%87%aa%e5%ae%9a%e4%b9%89%e7%9a%84%e5%b1%9e%e6%80%a7%e6%af%94%e5%a6%82%e7%bb%99-video-%e6%a0%87%e7%ad%be%e8%ae%be%e7%bd%ae-webkit-playsinline" class="anchor">ğŸ”—</a></h2><p>è‡ªå®šä¹‰å±æ€§çš„æ•ˆæœå–å†³äºæµè§ˆå™¨ï¼Œ React ä»…å°†è¯¥å±æ€§ä¼ é€’åˆ° DOMï¼Œä¸ä¿è¯å…¶åŠŸèƒ½ç”Ÿæ•ˆã€‚</p>
<h2 id="react-render-é˜¶æ®µçš„æ‰§è¡Œè¿‡ç¨‹">react render é˜¶æ®µçš„æ‰§è¡Œè¿‡ç¨‹ <a href="#react-render-%e9%98%b6%e6%ae%b5%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b" class="anchor">ğŸ”—</a></h2><h2 id="react-commit-é˜¶æ®µçš„æ‰§è¡Œè¿‡ç¨‹">react commit é˜¶æ®µçš„æ‰§è¡Œè¿‡ç¨‹ <a href="#react-commit-%e9%98%b6%e6%ae%b5%e7%9a%84%e6%89%a7%e8%a1%8c%e8%bf%87%e7%a8%8b" class="anchor">ğŸ”—</a></h2><h2 id="react-ä¸­çš„è·¯ç”±æ‡’åŠ è½½æ˜¯ä»€ä¹ˆåŸç†">react ä¸­çš„è·¯ç”±æ‡’åŠ è½½æ˜¯ä»€ä¹ˆï¼ŸåŸç†ï¼Ÿ <a href="#react-%e4%b8%ad%e7%9a%84%e8%b7%af%e7%94%b1%e6%87%92%e5%8a%a0%e8%bd%bd%e6%98%af%e4%bb%80%e4%b9%88%e5%8e%9f%e7%90%86" class="anchor">ğŸ”—</a></h2><p>åœ¨è®¿é—®ç‰¹å®šè·¯ç”±æ—¶åŠ è½½å¯¹åº”çš„ç»„ä»¶ä»£ç ï¼Œå‡å°‘åˆå§‹åŠ è½½çš„ js ä½“ç§¯ï¼Œæå‡åŠ è½½é€Ÿåº¦ã€‚</p>
<p>åŠ¨æ€ importï¼Œ åŠ¨æ€å¯¼å…¥è¯­æ³•ï¼Œåœ¨è¿è¡Œæ—¶å¼‚æ­¥åŠ è½½æ¨¡å—ï¼Œè¿”å›ä¸€ä¸ª promiseã€‚</p>
<p>React.lazy, React æä¾›çš„é«˜é˜¶å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªè¿”å› promise çš„åŠ¨æ€å¯¼å…¥è°ƒç”¨ï¼Œè¿”å›ä¸€ä¸ªå¯è¢« React æ¸²æŸ“çš„æ‡’åŠ è½½ç»„ä»¶ã€‚</p>
<p>webpack è¿›è¡Œä»£ç åˆ†å‰²ã€‚</p>
<p>Suspense é…åˆ React.layz ä½¿ç”¨ï¼Œ å¤„ç†åŠ è½½çŠ¶æ€ï¼Œåœ¨æ‡’åŠ è½½ç»„ä»¶åŠ è½½å®Œæˆä¹‹å‰æ˜¾ç¤ºå ä½å†…å®¹ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"></code></pre></div><h2 id="react-ä¸­ä¸ºä»€ä¸ç›´æ¥ä½¿ç”¨-requestidlecallback">react ä¸­ä¸ºä»€ä¸ç›´æ¥ä½¿ç”¨ requestIdleCallbackï¼Ÿ <a href="#react-%e4%b8%ad%e4%b8%ba%e4%bb%80%e4%b8%8d%e7%9b%b4%e6%8e%a5%e4%bd%bf%e7%94%a8-requestidlecallback" class="anchor">ğŸ”—</a></h2><p>requestIdleCallback æ˜¯æµè§ˆå™¨æä¾›çš„ APIï¼Œåœ¨ç©ºé—²æ—¶é—´æ‰§è¡Œä½ä¼˜å…ˆçº§ä»»åŠ¡ï¼Œæ‰§è¡Œæ—¶æœºä¸ç¡®å®šã€‚React çš„æ ¸å¿ƒéœ€æ±‚æ˜¯å¯é¢„æµ‹çš„è°ƒåº¦ã€‚</p>
<h2 id="react-ç»„ä»¶ä¹‹é—´æ€ä¹ˆé€šè®¯">react ç»„ä»¶ä¹‹é—´æ€ä¹ˆé€šè®¯ï¼Ÿ <a href="#react-%e7%bb%84%e4%bb%b6%e4%b9%8b%e9%97%b4%e6%80%8e%e4%b9%88%e9%80%9a%e8%ae%af" class="anchor">ğŸ”—</a></h2><p>react ç»„ä»¶ä¹‹é—´é€šè®¯æ–¹å¼æ ¹æ®ç»„ä»¶å…³ç³»ï¼Œçˆ¶å­ï¼Œè·¨å±‚çº§ï¼Œå…„å¼Ÿç­‰æœ‰æ‰€ä¸åŒã€‚</p>
<h3 id="çˆ¶å­ç»„ä»¶é€šè®¯">çˆ¶å­ç»„ä»¶é€šè®¯ <a href="#%e7%88%b6%e5%ad%90%e7%bb%84%e4%bb%b6%e9%80%9a%e8%ae%af" class="anchor">ğŸ”—</a></h3><p>æœ€åŸºç¡€çš„é€šè®¯æ–¹å¼ï¼Œ é€šè¿‡ props ä¼ é€’æ•°æ®å’Œå›è°ƒå‡½æ•°ä¼ é€’äº‹ä»¶å®ç°ã€‚</p>
<p>çˆ¶ä¼ å­é€šè¿‡ props ä¼ é€’æ•°æ®</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Parent</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">message</span>, <span style="color:#a6e22e">setMessage</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(<span style="color:#e6db74">&#34;a message from parent&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">Child</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">message</span>} /&gt;;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Child</span>({ <span style="color:#a6e22e">content</span> }) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">div</span>&gt;{<span style="color:#a6e22e">content</span>}&lt;/<span style="color:#f92672">div</span>&gt;;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å­ä¼ çˆ¶ï¼šé€šè¿‡å›è°ƒå‡½æ•°ä¼ é€’äº‹ä»¶</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Parent</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">handleChildClick</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">data</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;å­ç»„ä»¶ä¼ é€’çš„æ•°æ®&#34;</span>, <span style="color:#a6e22e">data</span>);
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">Child</span> <span style="color:#a6e22e">onSendData</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">handleChildClick</span>} /&gt;;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Child</span>({ <span style="color:#a6e22e">onSendData</span> }) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">sendData</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">onSendData</span>(<span style="color:#e6db74">&#34;a message from child&#34;</span>);
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">sendData</span>}&gt;<span style="color:#a6e22e">å‘é€æ•°æ®</span>&lt;/<span style="color:#f92672">button</span>&gt;;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è·¨å±‚çº§ç»„ä»¶é€šè®¯ï¼ˆçˆ·å­™ï¼Œæ·±å±‚çº§ï¼‰ã€‚ç”¨ Context APIã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ThemeContext</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">createContext</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Grandparent</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">theme</span>, <span style="color:#a6e22e">setTheme</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(<span style="color:#e6db74">&#34;light&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// é¡¶å±‚ç»„ä»¶æä¾›æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    &lt;<span style="color:#f92672">ThemeContext.Provider</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span>{{ <span style="color:#a6e22e">theme</span>, <span style="color:#a6e22e">setTheme</span> }}&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">Parent</span> /&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">ThemeContext.Provider</span>&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Parent</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// ä¸­é—´ç»„ä»¶æ— éœ€ä¼ é€’
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">Child</span> /&gt;;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Child</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// æ·±å±‚å­ç»„ä»¶æ¶ˆè´¹æ•°æ®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">theme</span>, <span style="color:#a6e22e">setTheme</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">useContext</span>(<span style="color:#a6e22e">ThemeContext</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">p</span>&gt; <span style="color:#a6e22e">å½“å‰ä¸»é¢˜</span><span style="color:#f92672">:</span> {<span style="color:#a6e22e">theme</span>} &lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{() =&gt; <span style="color:#a6e22e">setTheme</span>(<span style="color:#e6db74">&#34;dark&#34;</span>)}&gt; <span style="color:#a6e22e">åˆ‡æ¢ä¸»é¢˜</span>&lt;/<span style="color:#f92672">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å…„å¼Ÿç»„ä»¶é€šè®¯ã€‚é€šè¿‡å…±åŒçˆ¶ç»„ä»¶ä¸­è½¬ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Parent</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">count</span>, <span style="color:#a6e22e">setCount</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">BrotherA</span> <span style="color:#a6e22e">onIncrement</span><span style="color:#f92672">=</span>{() =&gt; <span style="color:#a6e22e">setCount</span>(<span style="color:#a6e22e">count</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)} /&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">BrotherB</span> <span style="color:#a6e22e">count</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">count</span>} /&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">BrotherA</span>({ <span style="color:#a6e22e">onIncrement</span> }) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">onIncrement</span>}&gt;<span style="color:#a6e22e">å¢åŠ </span>&lt;/<span style="color:#f92672">button</span>&gt;;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">BrotherB</span>({ <span style="color:#a6e22e">count</span> }) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">div</span>&gt; <span style="color:#a6e22e">å½“å‰å€¼</span><span style="color:#960050;background-color:#1e0010">ï¼š</span> {<span style="color:#a6e22e">count</span>} &lt;/<span style="color:#f92672">div</span>&gt;;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>éå…³è”ç»„ä»¶é€šè®¯ï¼ˆå…¨å±€çŠ¶æ€ç®¡ç†ï¼‰ã€‚ zustandã€‚</p>
<h2 id="react-å’Œ-vue-åœ¨æŠ€æœ¯å±‚é¢ä¸Šæœ‰å“ªäº›åŒºåˆ«">react å’Œ vue åœ¨æŠ€æœ¯å±‚é¢ä¸Šæœ‰å“ªäº›åŒºåˆ«ï¼Ÿ <a href="#react-%e5%92%8c-vue-%e5%9c%a8%e6%8a%80%e6%9c%af%e5%b1%82%e9%9d%a2%e4%b8%8a%e6%9c%89%e5%93%aa%e4%ba%9b%e5%8c%ba%e5%88%ab" class="anchor">ğŸ”—</a></h2><p>UI=f(state)ã€‚</p>
<table>
<thead>
<tr>
<th>ç»´åº¦</th>
<th>React</th>
<th>Vue</th>
</tr>
</thead>
<tbody>
<tr>
<td>è®¾è®¡ç†å¿µ</td>
<td>å•å‘æ•°æ®æµ</td>
<td>æ¸è¿›å¼ï¼Œå“åº”å¼</td>
</tr>
<tr>
<td>æ¨¡ç‰ˆè¯­æ³•</td>
<td>JSX = JS ä¸­å†™ html</td>
<td>ç‹¬ç«‹æ¨¡ç‰ˆ+æŒ‡ä»¤ï¼ˆhtml ä¸­å†™é€»è¾‘ï¼‰</td>
</tr>
<tr>
<td>å“åº”å¼åŸç†</td>
<td>æ‰‹åŠ¨è§¦å‘æ›´æ–°</td>
<td>æ•°æ®åŠ«æŒ Proxy+ä¾èµ–æ”¶é›†</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="å­ç»„ä»¶æ˜¯ä¸€ä¸ª-protal-å‘ç”Ÿç‚¹å‡»äº‹ä»¶èƒ½å†’æ³¡åˆ°çˆ¶ç»„ä»¶é‡Œå—">å­ç»„ä»¶æ˜¯ä¸€ä¸ª protalï¼Œ å‘ç”Ÿç‚¹å‡»äº‹ä»¶èƒ½å†’æ³¡åˆ°çˆ¶ç»„ä»¶é‡Œå—ï¼Ÿ <a href="#%e5%ad%90%e7%bb%84%e4%bb%b6%e6%98%af%e4%b8%80%e4%b8%aa-protal-%e5%8f%91%e7%94%9f%e7%82%b9%e5%87%bb%e4%ba%8b%e4%bb%b6%e8%83%bd%e5%86%92%e6%b3%a1%e5%88%b0%e7%88%b6%e7%bb%84%e4%bb%b6%e9%87%8c%e5%90%97" class="anchor">ğŸ”—</a></h2><h2 id="usestate-æ˜¯å¦‚ä½•å®ç°çš„">useState æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ <a href="#usestate-%e6%98%af%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e7%9a%84" class="anchor">ğŸ”—</a></h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"></code></pre></div><h2 id="react-ä¸­-diff-ç®—æ³•">react ä¸­ diff ç®—æ³• <a href="#react-%e4%b8%ad-diff-%e7%ae%97%e6%b3%95" class="anchor">ğŸ”—</a></h2><h2 id="å¦‚ä½•è®©-useeffect-æ”¯æŒ-asyncawait">å¦‚ä½•è®© useEffect æ”¯æŒ asyncï¼Œawaitï¼Ÿ <a href="#%e5%a6%82%e4%bd%95%e8%ae%a9-useeffect-%e6%94%af%e6%8c%81-asyncawait" class="anchor">ğŸ”—</a></h2><h2 id="react-ä¸­æ‡’åŠ è½½çš„å®ç°åŸç†æ˜¯">react ä¸­æ‡’åŠ è½½çš„å®ç°åŸç†æ˜¯ï¼Ÿ <a href="#react-%e4%b8%ad%e6%87%92%e5%8a%a0%e8%bd%bd%e7%9a%84%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e6%98%af" class="anchor">ğŸ”—</a></h2><p><code>React.lazy()</code>,</p>
<p>ç»„ä»¶æ‡’åŠ è½½ï¼Œ</p>
<p>è·¯ç”±æ‡’åŠ è½½ï¼Œ</p>
<p>å›¾ç‰‡æ‡’åŠ è½½ï¼Œ</p>
<p>æ•°æ®æ‡’åŠ è½½ã€‚</p>
<h2 id="react-ä¸­æ€ä¹ˆå®ç°çŠ¶æ€è‡ªåŠ¨ä¿å­˜-keepalive">react ä¸­æ€ä¹ˆå®ç°çŠ¶æ€è‡ªåŠ¨ä¿å­˜ keepaliveï¼Ÿ <a href="#react-%e4%b8%ad%e6%80%8e%e4%b9%88%e5%ae%9e%e7%8e%b0%e7%8a%b6%e6%80%81%e8%87%aa%e5%8a%a8%e4%bf%9d%e5%ad%98-keepalive" class="anchor">ğŸ”—</a></h2><p>è¡¨å•å¡«äº†ä¸€åŠï¼Œåˆ‡æ¢åˆ°å…¶ä»–é¡µé¢å†å›æ¥ï¼Œè¾“å…¥çš„å†…å®¹è¿˜åœ¨ã€‚</p>
<p>ä¸€ï¼Œåˆ©ç”¨çˆ¶ç»„ä»¶+æ¡ä»¶æ¸²æŸ“ï¼Œ å°†å­ç»„ä»¶çš„çŠ¶æ€æå‡åˆ°çˆ¶ç»„ä»¶ä¸­ã€‚</p>
<p>äºŒï¼Œè·¯ç”±åœºæ™¯æ—¶ï¼Œä½¿ç”¨ react router + çŠ¶æ€æŒä¹…åŒ–ï¼Œ react-activation, ä¸“é—¨è®¾è®¡çš„ keepalive åº“ã€‚</p>
<p>ä¸‰ï¼ŒæŒä¹…åŒ–åˆ° localStorage</p>
<p>å››ï¼Œå…¨å±€çŠ¶æ€ç®¡ç†</p>
<h2 id="react-æœ‰å“ªäº›æ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•">react æœ‰å“ªäº›æ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•ï¼Ÿ <a href="#react-%e6%9c%89%e5%93%aa%e4%ba%9b%e6%80%a7%e8%83%bd%e4%bc%98%e5%8c%96%e7%9a%84%e6%96%b9%e6%b3%95" class="anchor">ğŸ”—</a></h2><h3 id="å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“">å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“ <a href="#%e5%87%8f%e5%b0%91%e4%b8%8d%e5%bf%85%e8%a6%81%e7%9a%84%e6%b8%b2%e6%9f%93" class="anchor">ğŸ”—</a></h3><p>ä½¿ç”¨ React.memo ç¼“å­˜ç»„ä»¶ï¼ŒuseMemo ç¼“å­˜è®¡ç®—ç»“æœï¼ŒuseCallback ç¼“å­˜å‡½æ•°å¼•ç”¨ã€‚</p>
<p>æ‹†åˆ†æˆç‹¬ç«‹å°ç»„ä»¶ï¼Œä½¿å¾—çŠ¶æ€å˜åŒ–ä»…å½±å“å±€éƒ¨ã€‚</p>
<h3 id="ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“">ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“ <a href="#%e4%bc%98%e5%8c%96%e5%88%97%e8%a1%a8%e6%b8%b2%e6%9f%93" class="anchor">ğŸ”—</a></h3><p>ç»™åˆ—è¡¨é¡¹æ·»åŠ å”¯ä¸€ keyï¼Œ å‡å°‘ react è™šæ‹Ÿ dom çš„å¯¹æ¯”å¼€é”€ã€‚</p>
<p>ä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨åªæ¸²æŸ“å¯è§†åŒºåŸŸã€‚</p>
<p>çŠ¶æ€ç®¡ç†ä¼˜åŒ–</p>
<h3 id="äº‹ä»¶ä¸å‰¯ä½œç”¨ä¼˜åŒ–">äº‹ä»¶ä¸å‰¯ä½œç”¨ä¼˜åŒ– <a href="#%e4%ba%8b%e4%bb%b6%e4%b8%8e%e5%89%af%e4%bd%9c%e7%94%a8%e4%bc%98%e5%8c%96" class="anchor">ğŸ”—</a></h3><p>é˜²æŠ–ï¼ŒèŠ‚æµé«˜é¢‘äº‹ä»¶ï¼Œæ¸…ç†å‰¯ä½œç”¨ï¼ˆæ¸…ç† timer é˜²æ­¢å†…å­˜æ³„æ¼ï¼‰</p>
<h3 id="èµ„æºåŠ è½½ä¼˜åŒ–">èµ„æºåŠ è½½ä¼˜åŒ– <a href="#%e8%b5%84%e6%ba%90%e5%8a%a0%e8%bd%bd%e4%bc%98%e5%8c%96" class="anchor">ğŸ”—</a></h3><p>é€šè¿‡ React.lazy, Suspense å®ç°æŒ‰éœ€åŠ è½½ï¼Œå‡å°‘åˆå§‹åŠ è½½ä½“ç§¯ã€‚</p>
<h2 id="react-ä¸­-virtual-dom-ä¸€å®šæé«˜æ€§èƒ½å—">react ä¸­ Virtual DOM ä¸€å®šæé«˜æ€§èƒ½å—ï¼Ÿ <a href="#react-%e4%b8%ad-virtual-dom-%e4%b8%80%e5%ae%9a%e6%8f%90%e9%ab%98%e6%80%a7%e8%83%bd%e5%90%97" class="anchor">ğŸ”—</a></h2><p>å½“ç»„ä»¶çŠ¶æ€å˜åŒ–æ—¶ï¼Œå…ˆæ„å»ºæ–°çš„ virtual dom æ ‘ï¼Œé€šè¿‡ diff ç®—æ³•å¯¹æ¯”æ–°æ—§ virtual dom æ ‘ï¼Œè®¡ç®—å‡ºæœ€å°å˜æ›´ï¼Œå°†å˜æ›´æ‰¹é‡åº”ç”¨åˆ°çœŸå® dom ä¸Šã€‚</p>
<h2 id="react-çš„äº‹ä»¶ä»£ç†æœºåˆ¶">react çš„äº‹ä»¶ä»£ç†æœºåˆ¶ï¼Ÿ <a href="#react-%e7%9a%84%e4%ba%8b%e4%bb%b6%e4%bb%a3%e7%90%86%e6%9c%ba%e5%88%b6" class="anchor">ğŸ”—</a></h2><p>react ä¼šåœ¨æ ¹èŠ‚ç‚¹ç»Ÿä¸€æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨ï¼Œ äº‹ä»¶å†’æ³¡åˆ°æ ¹èŠ‚ç‚¹ï¼Œæ ¹æ®äº‹ä»¶æºå’Œç»„ä»¶æ ‘æ‰¾åˆ°ç»„ä»¶å’Œäº‹ä»¶å¤„ç†å‡½æ•°å¹¶æ‰§è¡Œã€‚</p>
<h2 id="reack-hooks-å½“ä¸­çš„-useeffect-æ˜¯å¦‚ä½•åŒºåˆ†å£°æ˜å‘¨æœŸé’©å­çš„">reack hooks å½“ä¸­çš„ useEffect æ˜¯å¦‚ä½•åŒºåˆ†å£°æ˜å‘¨æœŸé’©å­çš„ <a href="#reack-hooks-%e5%bd%93%e4%b8%ad%e7%9a%84-useeffect-%e6%98%af%e5%a6%82%e4%bd%95%e5%8c%ba%e5%88%86%e5%a3%b0%e6%98%8e%e5%91%a8%e6%9c%9f%e9%92%a9%e5%ad%90%e7%9a%84" class="anchor">ğŸ”—</a></h2><p>é€šè¿‡ä¾èµ–æ•°ç»„æ¥æ¨¡æ‹Ÿä¸åŒçš„ç”Ÿå‘½å‘¨æœŸè¡Œä¸ºï¼Œç»Ÿä¸€äº†ç±»ç»„ä»¶ä¸­çš„ componentDidMount, componentDidUpdate, componentWillUnmount ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ã€‚</p>
<p>æ— ä¾èµ–æ•°ç»„ï¼Œç»„ä»¶æŒ‚è½½åæ‰§è¡Œä¸€æ¬¡ï¼Œåç»­æ¯æ¬¡ç»„ä»¶æ›´æ–°æ—¶é‡æ–°æ‰§è¡Œã€‚æ¨¡æ‹Ÿäº† componentDidMount, componentDidUpdateã€‚</p>
<p>ç©ºä¾èµ–æ•°æ®(<code>ç©ºæ•°ç»„[]</code>)ï¼Œ ç»„ä»¶åªåœ¨æŒ‚è½½åæ‰§è¡Œä¸€æ¬¡ã€‚æ¨¡æ‹Ÿäº† componentDidMountã€‚</p>
<p>æœ‰å€¼çš„ä¾èµ–æ•°ç»„ï¼Œ ç»„ä»¶æŒ‚è½½åæ‰§è¡Œä¸€æ¬¡ï¼Œä¾èµ–æ•°æ®æ›´æ–°åæ‰§è¡Œä¸€æ¬¡ã€‚ æ¨¡æ‹Ÿäº† componentDidMount, componentDidUpdateã€‚</p>
<p>æ¸…ç†å‡½æ•°ï¼Œ <code>useEffect( return () =&gt; { return ()=&gt;{...} }, [deps] )</code> æ¨¡æ‹Ÿ componentWillUnmount, æ¸…ç†å‡½æ•°åœ¨ç»„ä»¶å¸è½½å‰ï¼Œæˆ–è€…ä¸‹æ¬¡ effect æ‰§è¡Œå‰è§¦å‘ï¼Œæ¸…ç†å®šæ—¶å™¨ï¼Œäº‹ä»¶ç›‘å¬ç­‰ã€‚</p>
<p>ä¸€ä¸ª api è¦†ç›–äº†ç±»ç»„ä»¶ä¸­çš„å¤šä¸ªç”Ÿå‘½å‘¨æœŸçš„åŠŸèƒ½ï¼Œ è®©å‰¯ä½œç”¨é€»è¾‘çš„ç»„ç»‡æ›´æ¸…æ™°ã€‚</p>
<p>useEffect çš„é—­åŒ…é™·é˜±ã€‚ ä¾èµ–æ•°ç»„å¿…é¡»åŒ…å« effect ä¸­ä½¿ç”¨çš„å¤–éƒ¨å˜é‡ï¼Œ stateï¼Œ propsï¼Œ å‡½æ•°ã€‚é—æ¼ä¾èµ–å¯¼è‡´äº†è¯»åˆ°ä¹…å€¼ã€‚ä½¿ç”¨ ESLint è§„åˆ™è‡ªåŠ¨æ£€æµ‹å£°æ˜çš„ä¾èµ–ã€‚</p>
<h2 id="react-ä¸­æ€ä¹ˆå®ç°ç»„ä»¶é—´çš„è¿‡æ¸¡åŠ¨ç”»">react ä¸­æ€ä¹ˆå®ç°ç»„ä»¶é—´çš„è¿‡æ¸¡åŠ¨ç”»ï¼Ÿ <a href="#react-%e4%b8%ad%e6%80%8e%e4%b9%88%e5%ae%9e%e7%8e%b0%e7%bb%84%e4%bb%b6%e9%97%b4%e7%9a%84%e8%bf%87%e6%b8%a1%e5%8a%a8%e7%94%bb" class="anchor">ğŸ”—</a></h2><p>react-transition-group åº“ã€‚</p>
<h2 id="react-æœåŠ¡ç«¯æ¸²æŸ“æ€ä¹ˆåš">react æœåŠ¡ç«¯æ¸²æŸ“æ€ä¹ˆåš <a href="#react-%e6%9c%8d%e5%8a%a1%e7%ab%af%e6%b8%b2%e6%9f%93%e6%80%8e%e4%b9%88%e5%81%9a" class="anchor">ğŸ”—</a></h2><p>SSR æ˜¯åœ¨æœåŠ¡å™¨ç«¯å°† React ç»„ä»¶æ¸²æŸ“æˆ HTML å­—ç¬¦ä¸²ï¼Œå‘é€ç»™å®¢æˆ·ç«¯çš„æŠ€æœ¯ã€‚
æœåŠ¡ç«¯ä½¿ç”¨ ReactDOMServer.renderToString(), renderToPipeableStream() å°†ç»„ä»¶æ¸²æŸ“ä¸º htmlã€‚
å®¢æˆ·ç«¯ä½¿ç”¨ ReactDOM.hydrateRoot()æ¿€æ´» HTMLï¼Œä½¿å…¶å˜ä¸ºå¯äº¤äº’çš„ React åº”ç”¨ã€‚</p>
<p>Next.jsï¼Œ SSR æ¡†æ¶ã€‚Remixï¼Œå…¨æ ˆ react æ¡†æ¶ã€‚</p>
<h2 id="ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨-usememousecallback">ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨ useMemoï¼Œusecallback <a href="#%e4%bb%80%e4%b9%88%e6%83%85%e5%86%b5%e4%b8%8b%e4%bd%bf%e7%94%a8-usememousecallback" class="anchor">ğŸ”—</a></h2><p>useMemo ç¼“å­˜è®¡ç®—ç»“æœã€‚ useCallback ç¼“å­˜å‡½æ•°å¼•ç”¨ã€‚</p>
<h2 id="react-çš„-memo-å’Œ-memoize-å‡½æ•°çš„åŒºåˆ«">react çš„ memo å’Œ memoize å‡½æ•°çš„åŒºåˆ« <a href="#react-%e7%9a%84-memo-%e5%92%8c-memoize-%e5%87%bd%e6%95%b0%e7%9a%84%e5%8c%ba%e5%88%ab" class="anchor">ğŸ”—</a></h2><p>react çš„ memo å¯¹äºçº¯å±•ç¤ºçš„ç»„ä»¶ï¼ˆä»…ä¾èµ– props æ¸²æŸ“ï¼Œ æ— å†…éƒ¨çŠ¶æ€å’Œå‰¯ä½œç”¨ï¼‰ï¼Œå‡å°‘æ¸²æŸ“ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">MemoizedComponent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">React</span>.<span style="color:#a6e22e">memo</span>(({ <span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">age</span> }) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>      {<span style="color:#a6e22e">name</span>}<span style="color:#f92672">-</span>{<span style="color:#a6e22e">age</span>}
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h2 id="useref-ref-forwardsref-çš„åŒºåˆ«">useRefï¼Œ refï¼Œ forwardsRef çš„åŒºåˆ«ï¼Ÿ <a href="#useref-ref-forwardsref-%e7%9a%84%e5%8c%ba%e5%88%ab" class="anchor">ğŸ”—</a></h2><p>ref æ˜¯ä¸€ä¸ªå±æ€§ç”¨äºè·å– DOM å…ƒç´ çš„å¼•ç”¨ã€‚</p>
<p>useRef æ˜¯ React Hookï¼Œ è®¿é—® DOM å…ƒç´ ã€‚ç‰¹ç‚¹æ˜¯å­˜å‚¨çš„å€¼å‘ç”Ÿå˜åŒ–ä¸ä¼šå¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚</p>
<p>forwardsRef æ˜¯å‡½æ•°ï¼Œç”¨äºåœ¨å‡½æ•°ç»„ä»¶é—´è½¬å‘å¼•ç”¨ã€‚
å°†çˆ¶ç»„ä»¶çš„ ref è½¬å‘åˆ°å­ç»„ä»¶ä¸­çš„ dom å…ƒç´ ä¸Šï¼Œè§£å†³å‡½æ•°ç»„ä»¶ä¸èƒ½ç›´æ¥æ¥æ”¶ ref å±æ€§çš„é—®é¢˜ï¼Œä½¿å¾—çˆ¶ç»„ä»¶èƒ½å¤Ÿè®¿é—®å­ç»„ä»¶å†…éƒ¨çš„ dom å…ƒç´ ã€‚
forwardsRef å¿…é¡»é…åˆ ref å±æ€§ä½¿ç”¨ã€‚çˆ¶ç»„ä»¶ä¼ é€’çš„ ref å¯ä»¥æ˜¯ useRef åˆ›å»ºçš„ ref å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯å›è°ƒå½¢å¼çš„ refï¼ˆå¦‚ ï¼ˆelï¼‰=&gt; {...}ï¼‰ã€‚</p>
<p>å›è°ƒå¼ ref è‡ªåŠ¨æ‰§è¡Œã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Child</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">forwardsRef</span>((<span style="color:#a6e22e">props</span>, <span style="color:#a6e22e">ref</span>)=&gt;{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">ref</span>} /&gt;;
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Parent</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">handleRef</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">el</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">el</span>) <span style="color:#a6e22e">el</span>.<span style="color:#a6e22e">focus</span>(); <span style="color:#75715e">// ç›´æ¥æ“ä½œDOM
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }<span style="color:#960050;background-color:#1e0010">ï¼›</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">Child</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">handleRef</span>} /&gt;; <span style="color:#75715e">//å½“å­ç»„ä»¶çš„domå…ƒç´ è¢«æŒ‚è½½åˆ°é¡µé¢æ—¶ï¼Œå°†è¯¥domå…ƒç´ ä½œä¸ºelä¼ å…¥ï¼Œå¹¶æ‰§è¡Œã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>æœ€å¸¸è§çš„æ˜¯ forwardsRef ä¸ useRef ä¸€èµ·é…åˆä½¿ç”¨ã€‚ç»„ä»¶æŒ‚è½½ä¹‹å ref.current è¢«èµ‹å€¼ä¸º DOM å…ƒç´ ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">FancyInput</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">forwardRef</span>((<span style="color:#a6e22e">props</span>, <span style="color:#a6e22e">ref</span>) =&gt; &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">ref</span>} {<span style="color:#a6e22e">...props</span>} /&gt;);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">ParentComponent</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">inputRef</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">useRef</span>(<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">handleClick</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">inputRef</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">focus</span>();
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    &lt;&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">FancyInput</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">intupRef</span>} /&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">handleClick</span>}&gt; <span style="color:#a6e22e">Focus</span> <span style="color:#a6e22e">Input</span> &lt;/<span style="color:#f92672">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="å¯¹-immutable-çš„ç†è§£å¦‚ä½•åº”ç”¨åˆ°é¡¹ç›®ä¸Š">å¯¹ immutable çš„ç†è§£ï¼Œå¦‚ä½•åº”ç”¨åˆ°é¡¹ç›®ä¸Š <a href="#%e5%af%b9-immutable-%e7%9a%84%e7%90%86%e8%a7%a3%e5%a6%82%e4%bd%95%e5%ba%94%e7%94%a8%e5%88%b0%e9%a1%b9%e7%9b%ae%e4%b8%8a" class="anchor">ğŸ”—</a></h2><h2 id="å®ç°-usetimeout-çš„-hook">å®ç° useTimeout çš„ hook <a href="#%e5%ae%9e%e7%8e%b0-usetimeout-%e7%9a%84-hook" class="anchor">ğŸ”—</a></h2><h2 id="æ€ä¹ˆè·å–å‡½æ•°ç»„ä»¶çš„å®ä¾‹">æ€ä¹ˆè·å–å‡½æ•°ç»„ä»¶çš„å®ä¾‹ï¼Ÿ <a href="#%e6%80%8e%e4%b9%88%e8%8e%b7%e5%8f%96%e5%87%bd%e6%95%b0%e7%bb%84%e4%bb%b6%e7%9a%84%e5%ae%9e%e4%be%8b" class="anchor">ğŸ”—</a></h2><p>å‡½æ•°ç»„ä»¶æœ¬è´¨æ˜¯çº¯å‡½æ•°ï¼Œreact ä¸ä¼šåˆ›å»ºå…¶å®ä¾‹ã€‚</p>
<ul>
<li>forwardRef è®©å‡½æ•°ç»„ä»¶èƒ½æ¥å—çˆ¶ç»„ä»¶ä¼ é€’çš„ ref</li>
<li>useImperativeHandle è‡ªå®šä¹‰é€šè¿‡ ref æš´éœ²çš„å†…å®¹ã€‚</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">useRef</span>, <span style="color:#a6e22e">useImperativeHandle</span>, <span style="color:#a6e22e">forwardRef</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;react&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">childComponent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">forwardRef</span>((<span style="color:#a6e22e">props</span>, <span style="color:#a6e22e">ref</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">count</span>, <span style="color:#a6e22e">setCount</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">inputRef</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">useRef</span>(<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">increment</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">setCount</span>((<span style="color:#a6e22e">prev</span>) =&gt; <span style="color:#a6e22e">prev</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">useImperativeHandle</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ref</span>,
</span></span><span style="display:flex;"><span>    () =&gt; ({
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">getCount</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#a6e22e">count</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">triggerIncrement</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">increment</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">focusInput</span><span style="color:#f92672">:</span> () =&gt; <span style="color:#a6e22e">inputRef</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">focus</span>(),
</span></span><span style="display:flex;"><span>    }),
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">count</span>]
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">p</span>&gt;<span style="color:#a6e22e">è®¡æ•°</span><span style="color:#f92672">:</span>{<span style="color:#a6e22e">count</span>}&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">inputRef</span>} /&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ParentComponent</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">childRef</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">useRef</span>(<span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">handleClick</span> <span style="color:#f92672">=</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">childRef</span>.<span style="color:#a6e22e">cuurent</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">childRef</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">triggerIncrement</span>();
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;å½“å‰è®¡æ•°:&#34;</span>, <span style="color:#a6e22e">childRef</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">getCount</span>());
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">childRef</span>.<span style="color:#a6e22e">current</span>.<span style="color:#a6e22e">focusInput</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">ChildComponent</span> <span style="color:#a6e22e">ref</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">childRef</span>} /&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">handleClick</span>}&gt;<span style="color:#a6e22e">æ“ä½œå­ç»„ä»¶</span>&lt;/<span style="color:#f92672">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h2 id="react-é¡¹ç›®å¦‚ä½•æ•è·é”™è¯¯">react é¡¹ç›®å¦‚ä½•æ•è·é”™è¯¯ï¼Ÿ <a href="#react-%e9%a1%b9%e7%9b%ae%e5%a6%82%e4%bd%95%e6%8d%95%e8%8e%b7%e9%94%99%e8%af%af" class="anchor">ğŸ”—</a></h2><p>åˆ†å±‚æ•è·ï¼Œ å±€éƒ¨é”™è¯¯ tryï¼Œ catchã€‚ç»„ä»¶æ ‘é”™è¯¯ç”¨ ErrorBoundaryã€‚å…¨å±€é”™è¯¯ unhandledrejectionã€‚</p>
<p>é”™è¯¯è¾¹ç•Œ error boundaries å¯ä»¥æ•è·å­ç»„ä»¶æ ‘ä¸­çš„ js é”™è¯¯ï¼Œå±•ç¤ºé™çº§ UIï¼ˆfallback UIï¼‰ï¼Œä¸è®©æ•´ä¸ª UI ç»„ä»¶æ ‘å´©æºƒã€‚</p>
<h2 id="å—ä¿æŠ¤çš„è·¯ç”±-protected-route">å—ä¿æŠ¤çš„è·¯ç”± protected route <a href="#%e5%8f%97%e4%bf%9d%e6%8a%a4%e7%9a%84%e8%b7%af%e7%94%b1-protected-route" class="anchor">ğŸ”—</a></h2><p>æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æ»¡è¶³ç‰¹å®šæ¡ä»¶ï¼ˆå¦‚ç™»å½•ï¼‰ï¼Œæ‰å…è®¸è®¿é—®å…¶ä¸‹çš„ç»„ä»¶å’Œé¡µé¢ã€‚</p>
<h2 id="react-ä¸­å¼•å…¥-css-çš„æ–¹å¼æœ‰å‡ ç§">react ä¸­å¼•å…¥ css çš„æ–¹å¼æœ‰å‡ ç§ï¼Ÿ <a href="#react-%e4%b8%ad%e5%bc%95%e5%85%a5-css-%e7%9a%84%e6%96%b9%e5%bc%8f%e6%9c%89%e5%87%a0%e7%a7%8d" class="anchor">ğŸ”—</a></h2><p>å…¨å±€ cssã€‚åˆ›å»º global.css æ–‡ä»¶ï¼Œåœ¨å…¥å£æ–‡ä»¶ä¸­å¼•å…¥ index.jsï¼Œåœ¨ç»„ä»¶ä¸­ä½¿ç”¨ã€‚</p>
<p>æ¨¡å—åŒ– cssã€‚å°† css æ–‡ä»¶å‘½åä¸ºæ–‡ä»¶å.module.cssï¼Œä½¿æ ·å¼ä»…ä½œç”¨äºå¼•å…¥å®ƒçš„ç»„ä»¶ã€‚</p>
<p>Sassï¼Œ SCSS é¢„å¤„ç†å™¨ã€‚</p>
<p>å†…è”æ ·å¼ style å±æ€§ä¸Šå®šä¹‰æ ·å¼ã€‚</p>
<p>CSS æ¡†æ¶ Tailwind CSSã€‚</p>
<h2 id="å•åº”ç”¨å¦‚ä½•æé«˜åŠ è½½é€Ÿåº¦">å•åº”ç”¨å¦‚ä½•æé«˜åŠ è½½é€Ÿåº¦ï¼Ÿ <a href="#%e5%8d%95%e5%ba%94%e7%94%a8%e5%a6%82%e4%bd%95%e6%8f%90%e9%ab%98%e5%8a%a0%e8%bd%bd%e9%80%9f%e5%ba%a6" class="anchor">ğŸ”—</a></h2><h3 id="èµ„æºä½“ç§¯ä¼˜åŒ–">èµ„æºä½“ç§¯ä¼˜åŒ–ã€‚ <a href="#%e8%b5%84%e6%ba%90%e4%bd%93%e7%a7%af%e4%bc%98%e5%8c%96" class="anchor">ğŸ”—</a></h3><p>ä»£ç åˆ†å‰²ï¼ˆcode splittingï¼‰ï¼Œ å°†ä»£ç æŒ‰è·¯ç”±æˆ–ç»„ä»¶æ‹†åˆ†ï¼ŒåªåŠ è½½å½“å‰é¡µé¢æ‰€éœ€çš„ä»£ç ã€‚åŸç†ï¼š webpack ç­‰æ„å»ºå·¥å…·ä¼šå°†åŠ¨æ€å¯¼å…¥çš„æ¨¡å—æ‹†åˆ†ä¸ºç‹¬ç«‹ chunkï¼Œè®¿é—®å¯¹åº”è·¯ç”±æ—¶æ‰åŠ è½½ã€‚</p>
<p>å‹ç¼©ä¸æ··æ·†ã€‚jssï¼Œcss å‹ç¼©ï¼Œ tree shakingï¼Œå›¾ç‰‡ webpï¼Œavifã€‚</p>
<h3 id="é¦–å±æ¸²æŸ“ä¼˜åŒ–">é¦–å±æ¸²æŸ“ä¼˜åŒ– <a href="#%e9%a6%96%e5%b1%8f%e6%b8%b2%e6%9f%93%e4%bc%98%e5%8c%96" class="anchor">ğŸ”—</a></h3><p>SSR é€šè¿‡ next.js åœ¨æœåŠ¡ç«¯ç”Ÿæˆ HTMLï¼Œé¦–å±ç›´æ¥è¿”å›æ¸²æŸ“å¥½çš„å†…å®¹ã€‚</p>
<h3 id="è¿è¡Œæ—¶ä¼˜åŒ–">è¿è¡Œæ—¶ä¼˜åŒ– <a href="#%e8%bf%90%e8%a1%8c%e6%97%b6%e4%bc%98%e5%8c%96" class="anchor">ğŸ”—</a></h3><p>é¿å…é•¿ä»»åŠ¡é˜»å¡ä¸»çº¿ç¨‹ã€‚å°†å¤æ‚è®¡ç®—æ‹†åˆ†åˆ° web worker ä¸­ï¼Œ ä½¿ç”¨ requestIdleCallback å¤„ç†éç´§æ€¥ä»»åŠ¡ã€‚</p>
<p>è™šæ‹Ÿåˆ—è¡¨ã€‚å½“æ¸²æŸ“å¤§é‡æ•°æ®ï¼ˆ1000 æ¡+åˆ—è¡¨ï¼‰ï¼Œåªæ¸²æŸ“å¯è§†åŒºåŸŸå†…çš„ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">FixedSizeList</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;react-window&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">BigList</span>({ <span style="color:#a6e22e">items</span> }) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">FixedSizeList</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span>{<span style="color:#ae81ff">500</span>}
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;100%&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">itemCount</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">items</span>.<span style="color:#a6e22e">length</span>}
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">itemSize</span><span style="color:#f92672">=</span>{<span style="color:#ae81ff">50</span>}
</span></span><span style="display:flex;"><span>    &gt;
</span></span><span style="display:flex;"><span>      {({ <span style="color:#a6e22e">index</span>, <span style="color:#a6e22e">style</span> }) =&gt; &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">style</span>}&gt; {<span style="color:#a6e22e">items</span>[<span style="color:#a6e22e">index</span>].<span style="color:#a6e22e">name</span>} &lt;/<span style="color:#f92672">div</span>&gt;}
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">FixedSizeList</span>&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="èƒ½å¦ç›´æ¥å°†-props-çš„å€¼å¤åˆ¶ç»™-state">èƒ½å¦ç›´æ¥å°† props çš„å€¼å¤åˆ¶ç»™ stateï¼Ÿ <a href="#%e8%83%bd%e5%90%a6%e7%9b%b4%e6%8e%a5%e5%b0%86-props-%e7%9a%84%e5%80%bc%e5%a4%8d%e5%88%b6%e7%bb%99-state" class="anchor">ğŸ”—</a></h2><p>å¯ä»¥å°† props çš„å€¼å¤åˆ¶ç»™ stateã€‚</p>
<p>å¦‚æœéœ€è¦å°† props å¤åˆ¶åˆ° state ä¸”ä¿æŒåŒæ­¥ï¼Œ éœ€è¦ç”¨ useEffect ç›‘å¬ props å˜åŒ–å¹¶æ›´æ–° stateã€‚</p>
<h2 id="react-router-ä¸­çš„-link-å’Œ-a-æ ‡ç­¾çš„åŒºåˆ«">react-router ä¸­çš„ link å’Œ a æ ‡ç­¾çš„åŒºåˆ«ï¼Ÿ <a href="#react-router-%e4%b8%ad%e7%9a%84-link-%e5%92%8c-a-%e6%a0%87%e7%ad%be%e7%9a%84%e5%8c%ba%e5%88%ab" class="anchor">ğŸ”—</a></h2><p>éƒ½ç”¨äºå¯¼èˆªã€‚</p>
<table>
<thead>
<tr>
<th>ç‰¹ç‚¹</th>
<th>link æ ‡ç­¾</th>
<th>a æ ‡ç­¾</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¯¼èˆªæ–¹å¼</td>
<td>ä¸åˆ·æ–°é¡µé¢</td>
<td>ä¼šåˆ·æ–°é¡µé¢</td>
</tr>
<tr>
<td>URL å˜åŒ–å¤„ç†</td>
<td>html5 history api æ”¹ url</td>
<td>è§¦å‘é¡µé¢è·³è½¬ï¼Œå‘é€æ–° http è¯·æ±‚</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>å•é¡µé¢åº”ç”¨ SPA çš„æ ¸å¿ƒæ˜¯åœ¨ä¸€ä¸ªé¡µé¢ä¸­å®Œæˆæ‰€æœ‰äº¤äº’ï¼Œ link æ ‡ç­¾ä¸ºæ­¤è€Œè®¾è®¡ã€‚ a æ ‡ç­¾æ›´é€‚åˆå¤–éƒ¨é“¾æ¥ï¼Œé SPA åœºæ™¯ã€‚</p>
<h2 id="react-çš„-jsx-è½¬æ¢çœŸå®-dom-çš„è¿‡ç¨‹">react çš„ JSx è½¬æ¢çœŸå® DOM çš„è¿‡ç¨‹ <a href="#react-%e7%9a%84-jsx-%e8%bd%ac%e6%8d%a2%e7%9c%9f%e5%ae%9e-dom-%e7%9a%84%e8%bf%87%e7%a8%8b" class="anchor">ğŸ”—</a></h2><h2 id="react-çš„äº‹ä»¶ä»£ç†æœºåˆ¶å’ŒåŸç”Ÿäº‹ä»¶ç»‘å®šçš„åŒºåˆ«">react çš„äº‹ä»¶ä»£ç†æœºåˆ¶å’ŒåŸç”Ÿäº‹ä»¶ç»‘å®šçš„åŒºåˆ«ï¼Ÿ <a href="#react-%e7%9a%84%e4%ba%8b%e4%bb%b6%e4%bb%a3%e7%90%86%e6%9c%ba%e5%88%b6%e5%92%8c%e5%8e%9f%e7%94%9f%e4%ba%8b%e4%bb%b6%e7%bb%91%e5%ae%9a%e7%9a%84%e5%8c%ba%e5%88%ab" class="anchor">ğŸ”—</a></h2><h2 id="react-ä¸­-element-componentnode-instance">react ä¸­ Elementï¼Œ componentï¼ŒNode, Instance <a href="#react-%e4%b8%ad-element-componentnode-instance" class="anchor">ğŸ”—</a></h2><p>React å…ƒç´ æ˜¯ä¸€ä¸ªä¸å¯å˜çš„ javascript å¯¹è±¡ï¼Œæ ¼å¼ä¸º{type, props: {attribute: &quot;x&quot;, children: &quot;&quot;}, key, ref}</p>
<p>React ç»„ä»¶æ˜¯å‡½æ•°ï¼Œå°è£…äº† UI é€»è¾‘å’ŒçŠ¶æ€ï¼Œ æ¥æ”¶ props å¹¶è¿”å› React å…ƒç´ ã€‚</p>
<p>React Node æ›´å®½æ³›ï¼Œ æ˜¯æ¸²æŸ“ä¸­çš„ä»»ä½•å€¼ï¼Œå¯ä»¥æ˜¯ react å…ƒç´ ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œ æ•°ç»„ç­‰ã€‚ react çš„ render æ–¹æ³•è¿”å›äº† react nodeã€‚</p>
<p>React Instance ç±»ç»„ä»¶å®ä¾‹åŒ–åçš„å¯¹è±¡ï¼Œå‡½æ•°ç»„ä»¶æ— å®ä¾‹ã€‚</p>
<h1 id="å…¨å±€çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ">å…¨å±€çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ <a href="#%e5%85%a8%e5%b1%80%e7%8a%b6%e6%80%81%e7%ae%a1%e7%90%86%e6%96%b9%e6%a1%88" class="anchor">ğŸ”—</a></h1><p><code>context</code>æ˜¯ react å†…ç½®çš„ï¼Œä½†æ˜¯ context å€¼å˜åŒ–æ—¶ï¼Œæ‰€æœ‰æ¶ˆè´¹è€…ç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“ã€‚</p>
<p>Reduxï¼Œ
Zustand çš„ api ç®€å•ä¸Šæ‰‹å¿«ã€‚</p>
<h2 id="çŠ¶æ€æå‡">çŠ¶æ€æå‡ <a href="#%e7%8a%b6%e6%80%81%e6%8f%90%e5%8d%87" class="anchor">ğŸ”—</a></h2><h2 id="è™šæ‹Ÿåˆ—è¡¨çš„å®ç°">è™šæ‹Ÿåˆ—è¡¨çš„å®ç° <a href="#%e8%99%9a%e6%8b%9f%e5%88%97%e8%a1%a8%e7%9a%84%e5%ae%9e%e7%8e%b0" class="anchor">ğŸ”—</a></h2><h2 id="ä»£ç åˆ†å‰²åœ¨-react-ä¸­çš„å®ç°æ–¹å¼">ä»£ç åˆ†å‰²åœ¨ react ä¸­çš„å®ç°æ–¹å¼ <a href="#%e4%bb%a3%e7%a0%81%e5%88%86%e5%89%b2%e5%9c%a8-react-%e4%b8%ad%e7%9a%84%e5%ae%9e%e7%8e%b0%e6%96%b9%e5%bc%8f" class="anchor">ğŸ”—</a></h2><h1 id="é¢˜ç›®">é¢˜ç›® <a href="#%e9%a2%98%e7%9b%ae" class="anchor">ğŸ”—</a></h1><h2 id="react-çš„åˆæˆäº‹ä»¶">react çš„åˆæˆäº‹ä»¶ <a href="#react-%e7%9a%84%e5%90%88%e6%88%90%e4%ba%8b%e4%bb%b6" class="anchor">ğŸ”—</a></h2><p>React ä¸ºäº†å±è”½ä¸åŒæµè§ˆå™¨ä¹‹é—´äº‹ä»¶ç³»ç»Ÿçš„å·®å¼‚ï¼Œè‡ªå·±å®ç°äº†ä¸€å¥—â€œäº‹ä»¶ç³»ç»Ÿâ€ï¼Œ
åœ¨è¿™å¥—ç³»ç»Ÿä¸­ï¼Œæ‰€æœ‰äº‹ä»¶å¯¹è±¡éƒ½ä¸æ˜¯æµè§ˆå™¨åŸç”Ÿäº‹ä»¶å¯¹è±¡ï¼Œè€Œæ˜¯ React å°è£…çš„ åˆæˆäº‹ä»¶å¯¹è±¡ â€”â€” SyntheticEventã€‚</p>
<p>ä¾‹å¦‚ åœ¨ JSX é‡Œå†™ onClick={handleClick} æ—¶ï¼ŒReact å®é™…ä¸Šä¸æ˜¯ç›´æ¥ç»‘å®šåˆ° button çš„åŸç”Ÿ click äº‹ä»¶ã€‚</p>
<p>React ä¸åœ¨æ¯ä¸ª DOM ä¸Šéƒ½ç»‘å®šäº‹ä»¶ï¼Œè€Œæ˜¯æŠŠæ‰€æœ‰äº‹ä»¶ç»‘å®šåœ¨æ ¹èŠ‚ç‚¹ï¼ˆå¦‚ document æˆ– React Rootï¼‰ä¸Šï¼Œé€šè¿‡äº‹ä»¶å†’æ³¡ç»Ÿä¸€è°ƒåº¦ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">App</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">handleClick</span>(<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">e</span>); <span style="color:#75715e">// SyntheticEvent
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">nativeEvent</span>); <span style="color:#75715e">// åŸç”Ÿäº‹ä»¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{<span style="color:#a6e22e">handleClick</span>}&gt;<span style="color:#a6e22e">ç‚¹æˆ‘</span>&lt;/<span style="color:#f92672">button</span>&gt;;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>äº‹ä»¶æ± ã€‚</p>
<p>å¡«å…… type, target, nativeEvent, preventDefault() ç­‰å±æ€§ï¼›</p>
<h1 id="react-æºç ">react æºç  <a href="#react-%e6%ba%90%e7%a0%81" class="anchor">ğŸ”—</a></h1><p>ä¸‹è½½æºç ï¼ŒæŸ¥çœ‹ package.jsonï¼ŒæŸ¥çœ‹æ„å»ºçš„è„šæœ¬ã€‚</p>
<h2 id="æºç åŒ…">æºç åŒ… <a href="#%e6%ba%90%e7%a0%81%e5%8c%85" class="anchor">ğŸ”—</a></h2><p>packages/react, packages/react-dom, packages/react-reconciler, packages/schduler</p>
<h2 id="jsx-çš„ç¼–è¯‘">jsx çš„ç¼–è¯‘ <a href="#jsx-%e7%9a%84%e7%bc%96%e8%af%91" class="anchor">ğŸ”—</a></h2><p><code>@babel/plugin-transform-react-jsx</code> ç¼–è¯‘ä¸ºæ™®é€š js ä»£ç , å¦‚<code>React.createElement</code>çš„ä»£ç ã€‚</p>
<p>createElement</p>
<h2 id="ä¸²æµç¨‹">ä¸²æµç¨‹ <a href="#%e4%b8%b2%e6%b5%81%e7%a8%8b" class="anchor">ğŸ”—</a></h2><p>åˆå§‹åŒ–æµç¨‹, ReactDOM.render, createRoot</p>
<p>ReactElement ä¸Šæœ‰ ower å±æ€§å»æŒ‡å‘ fiber</p>
<p>æ•°æ®æ›´æ–°æµç¨‹ï¼ŒsetState,</p>
<p>scheduler ä¸­çš„ minheap å®ç°ä¼˜ç‚¹é˜Ÿåˆ—çš„è°ƒåº¦ã€‚</p>
<h2 id="å®ç°ç®€å•ç‰ˆçš„-reactfiber">å®ç°ç®€å•ç‰ˆçš„ reactfiber <a href="#%e5%ae%9e%e7%8e%b0%e7%ae%80%e5%8d%95%e7%89%88%e7%9a%84-reactfiber" class="anchor">ğŸ”—</a></h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">taskQueue</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">rootFiber</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">currentFiber</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// åˆ›å»ºç¬¬ä¸€ä¸ªfiber
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createFiber</span>(<span style="color:#a6e22e">element</span>, <span style="color:#a6e22e">parentFiber</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">element</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">parent</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">parentFiber</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">child</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">sibing</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">updateFiberTree</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">rootFiber</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">rootFiber</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createFiber</span>(<span style="color:#e6db74">&#34;app&#34;</span>, <span style="color:#66d9ef">null</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">currentFiber</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">rootFiber</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">while</span> (<span style="color:#a6e22e">taskQueue</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">task</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">taskQueu</span>.<span style="color:#a6e22e">shift</span>();
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">performUnitOfWork</span>(<span style="color:#a6e22e">fiber</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// æ‰§è¡Œå½“å‰ä»»åŠ¡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">elements</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fiber</span>.<span style="color:#a6e22e">element</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">elements</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">elements</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">child</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">elements</span>.<span style="color:#a6e22e">forEach</span>((<span style="color:#a6e22e">element</span>, <span style="color:#a6e22e">index</span>) =&gt; {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newFiber</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createFiber</span>(<span style="color:#a6e22e">element</span>, <span style="color:#a6e22e">fiber</span>);
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">index</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fiber</span>.<span style="color:#a6e22e">child</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newFiber</span>;
</span></span><span style="display:flex;"><span>      } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">child</span>.<span style="color:#a6e22e">sibing</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newFiber</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">child</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newFiber</span>;
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">fiber</span>.<span style="color:#a6e22e">child</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">fiber</span>.<span style="color:#a6e22e">child</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">nextFiber</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fiber</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">while</span> (<span style="color:#a6e22e">nextFiber</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">nextFiber</span>.<span style="color:#a6e22e">sibing</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">nextFiber</span>.<span style="color:#a6e22e">sibing</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">nextFiber</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">nextFiber</span>.<span style="color:#a6e22e">parent</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// è¿”å›ä¸‹ä¸€ä¸ªä»»åŠ¡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">commitRoot</span>(<span style="color:#a6e22e">finishWork</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Fiber</span>) <span style="color:#66d9ef">void</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">commitWork</span>(<span style="color:#a6e22e">rootFiber</span>.<span style="color:#a6e22e">child</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">currentFiber</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">commitWork</span>(<span style="color:#a6e22e">fiber</span>) <span style="color:#66d9ef">void</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">fiber</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// æ¸²æŸ“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">fiber</span>.<span style="color:#a6e22e">element</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">commitWork</span>(<span style="color:#a6e22e">fiber</span>.<span style="color:#a6e22e">child</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">commitWork</span>(<span style="color:#a6e22e">fiber</span>.<span style="color:#a6e22e">sibing</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å°†ä»»åŠ¡æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">schduler</span>(<span style="color:#a6e22e">task</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">taskQueue</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">task</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æ¨¡æ‹Ÿä»»åŠ¡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">exampleTask</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">element</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;div&#34;</span>, <span style="color:#e6db74">&#34;p&#34;</span>, <span style="color:#e6db74">&#34;span&#34;</span>],
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å¯åŠ¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">schduler</span>(<span style="color:#a6e22e">exampleTask</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">updateFiberTree</span>();
</span></span></code></pre></div><h1 id="ä»é¡¹ç›®å¯åŠ¨è¿‡ç¨‹åˆ°çŠ¶æ€æ›´æ–°è¿‡ç¨‹usestate">ä»é¡¹ç›®å¯åŠ¨è¿‡ç¨‹åˆ°çŠ¶æ€æ›´æ–°è¿‡ç¨‹ï¼ˆuseStateï¼‰ <a href="#%e4%bb%8e%e9%a1%b9%e7%9b%ae%e5%90%af%e5%8a%a8%e8%bf%87%e7%a8%8b%e5%88%b0%e7%8a%b6%e6%80%81%e6%9b%b4%e6%96%b0%e8%bf%87%e7%a8%8busestate" class="anchor">ğŸ”—</a></h1><h2 id="ä»é›¶å¼€å§‹çš„-react-é¡¹ç›®-demo">ä»é›¶å¼€å§‹çš„ React é¡¹ç›® Demo <a href="#%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e7%9a%84-react-%e9%a1%b9%e7%9b%ae-demo" class="anchor">ğŸ”—</a></h2><pre tabindex="0"><code>src/
  main.jsx
  App.jsx
</code></pre><p>main.jxs å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">React</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;react&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">ReactDOM</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;react-dom/client&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">App</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;./App&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ReactDOM</span>.<span style="color:#a6e22e">createRoot</span>(document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;root&#34;</span>)).<span style="color:#a6e22e">render</span>(&lt;<span style="color:#f92672">App</span> /&gt;);
</span></span></code></pre></div><p>App.jsx å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">useState</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;react&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">App</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">count</span>, <span style="color:#a6e22e">setCount</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useState</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> (
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">p</span>&gt;{<span style="color:#a6e22e">count</span>}&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span>{() =&gt; <span style="color:#a6e22e">setCount</span>(<span style="color:#a6e22e">count</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)}&gt;<span style="color:#a6e22e">add</span>&lt;/<span style="color:#f92672">button</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="react-é¡¹ç›®å¯åŠ¨è¿‡ç¨‹ä»åŠ è½½--fiber-æ„å»º--é¦–æ¬¡æ¸²æŸ“">React é¡¹ç›®å¯åŠ¨è¿‡ç¨‹ï¼ˆä»åŠ è½½ â†’ Fiber æ„å»º â†’ é¦–æ¬¡æ¸²æŸ“ï¼‰ <a href="#react-%e9%a1%b9%e7%9b%ae%e5%90%af%e5%8a%a8%e8%bf%87%e7%a8%8b%e4%bb%8e%e5%8a%a0%e8%bd%bd--fiber-%e6%9e%84%e5%bb%ba--%e9%a6%96%e6%ac%a1%e6%b8%b2%e6%9f%93" class="anchor">ğŸ”—</a></h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#75715e">// ç®¡ç†å¯¹è±¡ï¼ˆFiberRootï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">fiberRoot</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">containerInfo</span><span style="color:#f92672">:</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;root&#39;</span>), <span style="color:#75715e">// React æŒ‚è½½çš„ DOM å®¹å™¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">current</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">rootFiber</span>,     <span style="color:#75715e">// æŒ‡å‘å½“å‰çš„æ ¹ Fiberï¼ˆä¸¤è€…äº’ç›¸å¼•ç”¨ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">pendingLanes</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,        <span style="color:#75715e">// è°ƒåº¦ç›¸å…³çš„å…ƒä¿¡æ¯ï¼ˆlaneï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">callbackNode</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,     <span style="color:#75715e">// å½“å‰è°ƒåº¦å›è°ƒçš„å¼•ç”¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">finishedWork</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,     <span style="color:#75715e">// render å®Œæˆåè¦ commit çš„ fiber é“¾è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// ...è¿˜æœ‰å…¶ä»–è°ƒåº¦/é˜Ÿåˆ—å­—æ®µ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ä¼ªä»£ç ï¼šFiber èŠ‚ç‚¹ï¼ˆç®€åŒ–ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">rootFiber</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">tag</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;HostRoot&#34;</span>,        <span style="color:#75715e">// æ ¹èŠ‚ç‚¹ç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">child</span><span style="color:#f92672">:</span> ...,             <span style="color:#75715e">// å­ Fiber é“¾è¡¨
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">sibling</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">stateNode</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>,        <span style="color:#75715e">// &lt;-- ä¼šæŒ‡å‘ FiberRootï¼ˆç®¡ç†å¯¹è±¡ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">updateQueue</span><span style="color:#f92672">:</span> {...},     <span style="color:#75715e">// æ ¹èŠ‚ç‚¹çš„æ›´æ–°é˜Ÿåˆ—ï¼ˆä¹Ÿå¯ä»¥æ”¾åœ¨ FiberRootï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  ...<span style="color:#a6e22e">otherFiberFields</span>
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ä¸¤è€…äº’ç›¸å…³è”
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">rootFiber</span>.<span style="color:#a6e22e">stateNode</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fiberRoot</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">fiberRoot</span>.<span style="color:#a6e22e">current</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">rootFiber</span>;
</span></span></code></pre></div><p>ä¸‹é¢æŒ‰çœŸå® React å†…éƒ¨æµç¨‹æ¥èµ°ï¼ŒåŒ…æ‹¬ performWork, beginWork, completeWorkã€‚</p>
<ol>
<li>æµè§ˆå™¨åŠ è½½ main.jsx â†’ æ‰§è¡Œ ReactDOM.createRoot()</li>
</ol>
<p><code>createRoot</code>åˆ›å»º RootFiber</p>
<ol start="2">
<li>root.render(<App />) â†’ åˆ›å»º Update å¯¹è±¡ï¼Œæ”¾å…¥ UpdateQueue</li>
</ol>
<p>render(<App />) å¹¶ä¸æ˜¯ç«‹å³æ¸²æŸ“ï¼Œæ˜¯ï¼šä¸º RootFiber åˆ›å»ºä¸€ä¸ªæ›´æ–°ï¼ˆUpdateï¼‰ï¼ŒæŠŠ <App /> ä½œä¸º pending updateï¼Œè°ƒåº¦ä¸€ä¸ªä»»åŠ¡ï¼Œè®© React çš„ scheduler åœ¨ç©ºé—²/é«˜ä¼˜å…ˆçº§æ—¶æ‰§è¡Œï¼Œç„¶åæ‰ä¼šè¿›å…¥ï¼š<code>performConcurrentWorkOnRoot</code>ã€‚</p>
<ol start="3">
<li>è¿›å…¥ Fiber æ„å»ºï¼ˆæ¸²æŸ“é˜¶æ®µï¼‰
render phaseï¼ˆå¯ä¸­æ–­ï¼‰ï¼Œæ„å»º Fiber Treeï¼ˆè™šæ‹Ÿ DOM çš„ Fiber æ ‘ï¼‰ã€‚
commit phaseï¼ˆä¸å¯ä¸­æ–­ï¼‰æŠŠ Fiber å˜æˆçœŸå® DOMã€‚</li>
</ol>
<p>render é˜¶æ®µ â€” performUnitOfWork</p>
<p>æ ¹ Fiber å¼€å§‹ï¼š</p>
<pre tabindex="0"><code>performUnitOfWork(rootFiber)
  â†’ beginWork
  â†’ return child (App Fiber)
performUnitOfWork(AppFiber)
  â†’ beginWork
  â†’ return child (div Fiber)
performUnitOfWork(divFiber)
  â†’ beginWork
  â†’ return child (p Fiber)
...
</code></pre><p>beginWork åšä»€ä¹ˆï¼Ÿæ ¹æ® props/çŠ¶æ€ ç”Ÿæˆå­ Fiberã€‚
beginWork(AppFiber)</p>
<p>aï¼Œ æ‰§è¡Œ App()</p>
<p>bï¼Œè¿›å…¥ React hooks dispatcher</p>
<p>cï¼ŒuseState(0) äº§ç”Ÿï¼šhook å¯¹è±¡ï¼ˆé“¾è¡¨ï¼‰ï¼Œåˆå§‹ state = 0</p>
<p>dï¼Œè¿”å› React Element ç»“æ„ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">p</span>&gt;<span style="color:#ae81ff">0</span>&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">button</span>&gt;<span style="color:#a6e22e">add</span>&lt;/<span style="color:#f92672">button</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><p>fï¼ŒReact æ ¹æ® element ç”Ÿæˆå­ Fiber</p>
<p>completeWork åšä»€ä¹ˆï¼Ÿæ¯ä¸ª Fiber çš„ completeWork ä¼šå¤„ç†ï¼šåˆ›å»º DOM èŠ‚ç‚¹ï¼ˆé¦–æ¬¡æ¸²æŸ“ï¼‰ï¼Œæ”¶é›† effectListï¼ˆè¦æ‰§è¡Œçš„ DOM æ“ä½œï¼‰ã€‚</p>
<p>æœ€ç»ˆ rootFiber ä¼šå¸¦ç€ä¸€ä¸² DOM effectList è¿›å…¥ commit é˜¶æ®µã€‚</p>
<h3 id="commit-é˜¶æ®µä¸å¯ä¸­æ–­ä¹Ÿæ˜¯å”¯ä¸€æ“ä½œ-dom-çš„åœ°æ–¹">commit é˜¶æ®µï¼ˆä¸å¯ä¸­æ–­ï¼Œä¹Ÿæ˜¯å”¯ä¸€æ“ä½œ DOM çš„åœ°æ–¹ï¼‰ <a href="#commit-%e9%98%b6%e6%ae%b5%e4%b8%8d%e5%8f%af%e4%b8%ad%e6%96%ad%e4%b9%9f%e6%98%af%e5%94%af%e4%b8%80%e6%93%8d%e4%bd%9c-dom-%e7%9a%84%e5%9c%b0%e6%96%b9" class="anchor">ğŸ”—</a></h3><p>ä¸‰ä¸ªå°é˜¶æ®µï¼šbefore mutationï¼ˆref æ¸…ç†ç­‰ï¼‰ï¼Œmutationï¼ˆæŠŠ DOM æ’å…¥é¡µé¢ï¼æœ€å…³é”®ï¼‰ï¼Œlayoutï¼ˆè°ƒç”¨ useLayoutEffectï¼‰ã€‚</p>
<p>æœ€ç»ˆæµè§ˆå™¨çœ‹åˆ°é¡µé¢ä¸­çš„ï¼š</p>
<pre tabindex="0"><code>0
[add]
</code></pre><h2 id="react-çŠ¶æ€æ›´æ–°è¿‡ç¨‹usestateåŸç†">React çŠ¶æ€æ›´æ–°è¿‡ç¨‹ï¼ˆuseStateï¼‰åŸç† <a href="#react-%e7%8a%b6%e6%80%81%e6%9b%b4%e6%96%b0%e8%bf%87%e7%a8%8busestate%e5%8e%9f%e7%90%86" class="anchor">ğŸ”—</a></h2><p>å½“ç‚¹å‡»<code>onClick={() =&gt; setCount(count + 1)}</code>æ—¶ï¼Œè§¦å‘ setCount çš„å†…éƒ¨æµç¨‹ã€‚</p>
<ol>
<li>setState ä¸æ˜¯ç«‹å³æ›´æ–° Stateï¼Œå®ƒåˆ›å»º Update å¯¹è±¡ã€‚</li>
</ol>
<p>setCount(newValue) å®é™…ä¸Šåšçš„æ˜¯ï¼š</p>
<ul>
<li>åˆ›å»ºæ›´æ–°å¯¹è±¡ { payload: newValue }</li>
<li>åŠ å…¥ Fiber.updateQueue</li>
<li>è°ƒåº¦ render ä»»åŠ¡</li>
</ul>
<p>çŠ¶æ€å¹¶æ²¡æœ‰ç«‹å³å˜ã€‚</p>
<ol start="2">
<li>è°ƒåº¦å™¨ï¼ˆSchedulerï¼‰å¼€å§‹ä¸€æ¬¡æ–°çš„æ¸²æŸ“ä»»åŠ¡
scheduler å†æ¬¡å¯åŠ¨ï¼š</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-jsx" data-lang="jsx"><span style="display:flex;"><span><span style="color:#a6e22e">performConcurrentWorkOnRoot</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">â†’</span> <span style="color:#a6e22e">render</span> <span style="color:#a6e22e">phase</span><span style="color:#960050;background-color:#1e0010">ï¼ˆ</span><span style="color:#a6e22e">beginWork</span> <span style="color:#960050;background-color:#1e0010">â†’</span> <span style="color:#a6e22e">completeWork</span><span style="color:#960050;background-color:#1e0010">ï¼‰</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">â†’</span> <span style="color:#a6e22e">commit</span> <span style="color:#a6e22e">phase</span>
</span></span></code></pre></div><h3 id="æ›´æ–°é˜¶æ®µä¸é¦–æ¬¡æ¸²æŸ“çš„åŒºåˆ«">æ›´æ–°é˜¶æ®µä¸é¦–æ¬¡æ¸²æŸ“çš„åŒºåˆ« <a href="#%e6%9b%b4%e6%96%b0%e9%98%b6%e6%ae%b5%e4%b8%8e%e9%a6%96%e6%ac%a1%e6%b8%b2%e6%9f%93%e7%9a%84%e5%8c%ba%e5%88%ab" class="anchor">ğŸ”—</a></h3><p>é¦–æ¬¡æ¸²æŸ“ beginWork(FunctionComponent)</p>
<ul>
<li>è¿è¡Œ App()</li>
<li>åˆ›å»º hook é“¾è¡¨</li>
<li>è®°å½• initialState</li>
</ul>
<p>æ›´æ–°æ—¶ beginWork(FunctionComponent)</p>
<ul>
<li>è¿è¡Œ App()</li>
<li>éå† hook é“¾è¡¨</li>
<li>useState ä¼šï¼šoldState + updateQueue â†’ newState. æ¯æ¬¡ setState éƒ½ä¼šè®© updateQueue å‚ä¸è®¡ç®—ã€‚</li>
</ul>
<h3 id="å®Œæ•´æ€»ç»“æµç¨‹">å®Œæ•´æ€»ç»“æµç¨‹ <a href="#%e5%ae%8c%e6%95%b4%e6%80%bb%e7%bb%93%e6%b5%81%e7%a8%8b" class="anchor">ğŸ”—</a></h3><p>é¦–æ¬¡å¯åŠ¨ï¼š</p>
<p>createRoot â†’ åˆ›å»º rootFiber</p>
<p>root.render() â†’ ä¸º rootFiber åˆ›å»º update</p>
<p>Scheduler è°ƒåº¦ä»»åŠ¡</p>
<p>render phase, beginWorkï¼šæ‰§è¡Œ App()ï¼Œæ„å»º Fiber, completeWorkï¼šåˆ›å»º DOM</p>
<p>commit phaseï¼šæŠŠ DOM æ’å…¥é¡µé¢</p>
<p>çŠ¶æ€æ›´æ–°ï¼š</p>
<p>setState â†’ åˆ›å»º update â†’ æ”¾è¿› updateQueue</p>
<p>Scheduler è°ƒåº¦ render</p>
<p>render phase, beginWorkï¼šé‡æ–°æ‰§è¡Œ App(), useState è¯»å–æ—§ state + update å¾—åˆ° new state, ç”Ÿæˆæ–°çš„ Fiber</p>
<p>commit phase, å¯¹æ¯” fiber â†’ æ›´æ–° DOMï¼ˆåªæ›´æ–°å˜åŒ–çš„åœ°æ–¹ï¼‰</p>
<h2 id="å‚è€ƒ">å‚è€ƒ <a href="#%e5%8f%82%e8%80%83" class="anchor">ğŸ”—</a></h2><p>react çš„å®˜ç½‘ doc</p>

    </div>

    
        <div class="tags">
            
                <a href="http://brettkk.github.io/tags/%E5%89%8D%E7%AB%AF">å‰ç«¯</a>
            
        </div>
    
    
    

</section>


    </main>
    
    <footer id="footer">
    

    <script src="https://utteranc.es/client.js"
repo="brettKK/brettkk.github.io"
issue-term="title"
theme="github-light"
crossorigin="anonymous"
async>
</script>  

    <div class="copyright">
    
       Â© Copyright 
       2025 
       <span class="split">
        <svg fill="#bbbbbb" width="15" height="15" version="1.1" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15px" height="15px" viewBox="0 0 15 15">
  <path d="M13.91,6.75c-1.17,2.25-4.3,5.31-6.07,6.94c-0.1903,0.1718-0.4797,0.1718-0.67,0C5.39,12.06,2.26,9,1.09,6.75&#xA;&#x9;C-1.48,1.8,5-1.5,7.5,3.45C10-1.5,16.48,1.8,13.91,6.75z"/>
</svg>
       </span>
       
    
    </div>

    
      <div class="powerby">
        Powered by <a href='http://www.gohugo.io/'>Hugo</a> Theme By <a href='https://github.com/nodejh/hugo-theme-cactus-plus'>nodejh</a>
      </div>
    
</footer>




  </body>
</html>
