<!DOCTYPE html>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css">
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/languages/yaml.min.js"></script>
<html lang="zh-cn">
  <head>
    <title>macä¸Šå®‰è£…å’Œä½¿ç”¨è™šæ‹Ÿæœº | brettkk</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="å¿…è¦æ€§ ğŸ”— å› ä¸ºä½¿ç”¨çš„æ˜¯macç¬”è®°æœ¬ï¼Œå®éªŒå’Œå¼€å‘ä¸Šéœ€è¦åˆ©ç”¨lin">
<meta name="generator" content="Hugo 0.103.1" />


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link href="https://cdn.bootcss.com/highlight.js/9.15.10/styles/zenburn.min.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<link rel="stylesheet" href="http://brettkk.github.io/css/syntax.css" />


<link rel="stylesheet" href="/css/style.css">



<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />




  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>




  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">â†</span>Home</a>
	
	<a href="/posts">Archive</a>
	<a href="/tags">Tags</a>
	<a href="/about">About</a>

	

	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">macä¸Šå®‰è£…å’Œä½¿ç”¨è™šæ‹Ÿæœº</h1>

    <div class="tip">
        <time datetime="2020-09-18 11:33:56 &#43;0800 CST">Sep 18, 2020</time>
        <span class="split">
          Â·
        </span>
        <span>
          1022 words
        </span>
        <span class="split">
          Â·
        </span>
        <span>
          3 minute read
        </span>
    </div>

    
    
        
  
    <aside class="toc">
      <details>
          <summary>Table of Contents
          </summary>
          <div>
              <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#å¿…è¦æ€§">å¿…è¦æ€§</a></li>
        <li><a href="#å…¶ä»–å¹³å°çš„æ–¹æ¡ˆ">å…¶ä»–å¹³å°çš„æ–¹æ¡ˆ</a></li>
        <li><a href="#macos-m1ä¸‹å®‰è£…è™šæ‹Ÿæœº">macos m1ä¸‹å®‰è£…è™šæ‹Ÿæœº</a></li>
        <li><a href="#macos-m1-arch">macos m1 arch</a>
          <ul>
            <li><a href="#é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜</a></li>
          </ul>
        </li>
        <li><a href="#å…¶ä»–">å…¶ä»–</a></li>
      </ul>
    </li>
  </ul>
</nav>
          </div>
      </details>
    </aside>
  


    


    <div class="content">
      <h2 id="å¿…è¦æ€§">å¿…è¦æ€§ <a href="#%e5%bf%85%e8%a6%81%e6%80%a7" class="anchor">ğŸ”—</a></h2><p><font color=blue> å› ä¸ºä½¿ç”¨çš„æ˜¯macç¬”è®°æœ¬ï¼Œå®éªŒå’Œå¼€å‘ä¸Šéœ€è¦åˆ©ç”¨linuxç¯å¢ƒä¸‹çš„å·¥å…·ï¼ˆå¦‚gccï¼Œgdbä¹‹ç±»ï¼‰ï¼Œæ‰€ä»¥åœ¨macçš„å®¿ä¸»æœºä¸Šè™šæ‹ŸåŒ–å‡ºlinuxå¾ˆæœ‰å¿…è¦ã€‚ </font><br></p>
<h2 id="å…¶ä»–å¹³å°çš„æ–¹æ¡ˆ">å…¶ä»–å¹³å°çš„æ–¹æ¡ˆ <a href="#%e5%85%b6%e4%bb%96%e5%b9%b3%e5%8f%b0%e7%9a%84%e6%96%b9%e6%a1%88" class="anchor">ğŸ”—</a></h2><p>windowsä¸‹ vscode å®‰è£…Windows Subsystem for Linux (WSL)æ’ä»¶ï¼Œå³å¯</p>
<p>VirtualBox supports only x86 hardware.</p>
<p>Ubuntu is available not only on x86 architectures, but also has ARM-based versions.</p>
<p>VMWare è™šæ‹Ÿæœºäº§å“ï¼ˆä»˜è´¹ï¼‰ã€‚</p>
<h2 id="macos-m1ä¸‹å®‰è£…è™šæ‹Ÿæœº">macos m1ä¸‹å®‰è£…è™šæ‹Ÿæœº <a href="#macos-m1%e4%b8%8b%e5%ae%89%e8%a3%85%e8%99%9a%e6%8b%9f%e6%9c%ba" class="anchor">ğŸ”—</a></h2><p>åœ¨m1 archä¸‹ virtual boxå’ŒVMWareè™šæ‹Ÿæœºäº§å“ä¸æ”¯æŒã€‚</p>
<h2 id="macos-m1-arch">macos m1 arch <a href="#macos-m1-arch" class="anchor">ğŸ”—</a></h2><p>multipass å¯ä»¥æ”¯æŒåœ¨macosä¸‹è™šæ‹ŸåŒ–å‡ºubuntuæ“ä½œç³»ç»Ÿï¼ŒåŸºæœ¬ä¸Šæ»¡è¶³äº†å¼€å‘éœ€æ±‚ã€‚</p>
<p>multipass find</p>
<p>multipass launch 22.04 -n primary -c 2 -m 4G -d 50G</p>
<p>multipass list æŸ¥çœ‹è™šæ‹ŸæœºIP</p>
<p>multipass shell</p>
<p>sudo apt install ubuntu-desktop xrdp -y</p>
<p>vsocde sshåˆ°æœ¬åœ°è™šæ‹ŸåŒ–å‡ºæ¥çš„ubuntuç³»ç»Ÿã€‚</p>
<h3 id="é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜ <a href="#%e9%81%87%e5%88%b0%e7%9a%84%e9%97%ae%e9%a2%98" class="anchor">ğŸ”—</a></h3><pre tabindex="0"><code>#ssh ubuntu@192.168.64.2
ubuntu@192.168.64.2: Permission denied (publickey).

# ssh ubuntu@192.168.64.3
Load key &#34;.ssh/id_rsa.pub&#34; invalid format 
ubuntu@192.168.64.3: Permission denied (publickey).
</code></pre><p>åŸå› ï¼š åœ¨å®¿ä¸»æœº~/.ssh/configä¸­ IdentityFile ~/.ssh/id_rsa.pubã€‚ é…ç½®é”™è¯¯ã€‚
å…¬é’¥é…ç½®åœ¨vmçš„~/.ssh/authorized_keysä¸­ã€‚ åœ¨å®¿ä¸»æœºä¸Šsshæ—¶åˆ©ç”¨ç§é’¥è¿›è¡Œç™»é™†è®¤è¯ã€‚
æ‰€ä»¥åœ¨å®¿ä¸»æœºIdentityFile ~/.ssh/id_rsa.pub -&gt; IdentityFile ~/.ssh/id_rsaï¼ˆç§é’¥ï¼‰ã€‚</p>
<pre tabindex="0"><code>é€šè¿‡mulipass clienté‡Œopen shellæ‰“å¼€primary å®ä¾‹ï¼Œå¯èƒ½å‡ºç°
Can&#39;t open instance, stuck in Starting phaseã€‚
åŸå› ï¼š ä¸Šä¸€éƒ¨ä¿®æ”¹ubuntuä¸­~/.ssh/authorized_keysæ—¶ä¸æ˜¯é‡‡ç”¨çš„appendæ–°public keyï¼Œé‡‡ç”¨è¦†ç›–ã€‚
æ‰€ä»¥åœ¨ä¿®æ”¹authorized_keysæ—¶åŸæœ‰public keyæœ€å¥½backupä¸€ä»½ã€‚
</code></pre><p>æ‰“å¼€è¿œç¨‹çš„æ–‡ä»¶å¤¹åŒ…å«å¤§é‡æ–‡ä»¶æ—¶ï¼ˆä¾‹å¦‚æ‰“å¼€linux kernelæ–‡ä»¶å¤¹ä»£ç ï¼‰ï¼Œå‡ºç°Connection to server got closed. Server will not be restartedã€‚</p>
<pre tabindex="0"><code>Visual Studio Code is unable to watch for file changes in this large workspace&#34; (error ENOSPC).



è§£å†³åŠæ³•å‚è€ƒï¼šhttps://code.visualstudio.com/docs/setup/linux#_visual-studio-code-is-unable-to-watch-for-file-changes-in-this-large-workspace-error-enospc
</code></pre><pre tabindex="0"><code>åœ¨linux-5.19ä¸‹
ubuntu$ ctags -R
no left space on disk.

å°è¯•è°ƒæ•´è™šæ‹Ÿæœºçš„diskèµ„æºé™åˆ¶ã€‚ 
sudo vim /var/root/Library/Application\ Support/multipassd/qemu/multipassd-vm-instances.json
æ›´æ”¹primaryçš„diské™åˆ¶ï¼Œé‡å¯å¯åŠ¨vmåä¸èµ·ä½œç”¨ã€‚

æ¥ç€å°è¯•ï¼š
 sudo  /Library/Application\ Support/com.canonical.multipass/bin/qemu-img info /var/root/Library/Application\ Support/multipassd/qemu/vault/instances/primary/ubuntu-22.04-server-cloudimg-arm64.img

 sudo  /Library/Application\ Support/com.canonical.multipass/bin/qemu-img snapshot -d suspend  /var/root/Library/Application\ Support/multipassd/qemu/vault/instances/primary/ubuntu-22.04-server-cloudimg-arm64.img

 sudo  /Library/Application\ Support/com.canonical.multipass/bin/qemu-img resize /var/root/Library/Application\ Support/multipassd/qemu/vault/instances/primary/ubuntu-22.04-server-cloudimg-arm64.img +10G

 Image resized.
</code></pre><p><a href="https://multipass.run/docs/modify-an-instance#heading--set-the-cpu-ram-or-disk-of-an-instance" target="_blank" rel="noopener">https://multipass.run/docs/modify-an-instance#heading--set-the-cpu-ram-or-disk-of-an-instance</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/435237515" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/435237515</a>
launch failed: cannot connect to the multipass socket
è§£å†³åŠæ³•ï¼šsudo launchctl load /Library/LaunchDaemons/com.canonical.multipassd.plist</p>
<p>image resizedæˆåŠŸï¼Œä½†æ˜¯disk sizeä»ç„¶æ˜¯5Gã€‚ã€‚ã€‚</p>
<h2 id="å…¶ä»–">å…¶ä»– <a href="#%e5%85%b6%e4%bb%96" class="anchor">ğŸ”—</a></h2><p>æœ¬åœ°å®‰è£…ä»˜è´¹çš„è™šæ‹Ÿæœºã€‚<br>
è´­ä¹°äº‘ä¸»æœºï¼Œ ä¾‹å¦‚è…¾è®¯äº‘çš„è½»é‡åº”ç”¨æœåŠ¡å™¨ã€‚</p>

    </div>

    
        <div class="tags">
            
                <a href="http://brettkk.github.io/tags/soft_tools">soft_tools</a>
            
        </div>
    
    
    

</section>


    </main>
    
    <footer id="footer">
    

    <script src="https://utteranc.es/client.js"
repo="brettKK/brettkk.github.io"
issue-term="title"
theme="github-light"
crossorigin="anonymous"
async>
</script>  

    <div class="copyright">
    
       Â© Copyright 
       2022 
       <span class="split">
        <svg fill="#bbbbbb" width="15" height="15" version="1.1" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15px" height="15px" viewBox="0 0 15 15">
  <path d="M13.91,6.75c-1.17,2.25-4.3,5.31-6.07,6.94c-0.1903,0.1718-0.4797,0.1718-0.67,0C5.39,12.06,2.26,9,1.09,6.75&#xA;&#x9;C-1.48,1.8,5-1.5,7.5,3.45C10-1.5,16.48,1.8,13.91,6.75z"/>
</svg>
       </span>
       
    
    </div>

    
      <div class="powerby">
        Powered by <a href='http://www.gohugo.io/'>Hugo</a> Theme By <a href='https://github.com/nodejh/hugo-theme-cactus-plus'>nodejh</a>
      </div>
    
</footer>




  </body>
</html>
